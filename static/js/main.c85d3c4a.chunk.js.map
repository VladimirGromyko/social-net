{"version":3,"sources":["assets/images/user.png","redux/dialogs-reducer.ts","api/api.ts","Components/Users/users.module.css","Components/Navbar/Navbar.module.css","Components/Navbar/Navbar.tsx","Components/News/News.tsx","Components/Music/Music.tsx","Components/Settings/Settings.tsx","utils/object-helpers.ts","redux/users-reducer.ts","Components/common/Paginator/Paginator.tsx","Components/Users/User.tsx","Components/Users/Users.tsx","redux/users-selectors.ts","Components/Users/UsersContainer.tsx","Components/Header/header.tsx","redux/auth-reducer.ts","Components/Header/headerContainer.tsx","Components/Login/Login.tsx","redux/sidebar-reducer.ts","redux/app-reducer.ts","redux/redux-store.ts","hoc/withSuspense.tsx","App.tsx","index.tsx","Components/common/FormsControls/FormsControls.tsx","assets/images/1495 (1).gif","Components/common/Preloader/Preloader.tsx","Components/common/FormsControls/FormsControls.module.css","Components/common/Paginator/Paginator.module.css","utils/validators/validators.ts","Components/Header/header.module.css","redux/profile-reducer.ts"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageAC","newMessageBody","type","dialogsReducer","state","action","body","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","authAPI","me","login","email","password","rememberMe","logout","module","exports","Navbar","className","s","nav","item","to","activeClassName","activeLink","active","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","isFetchingForFollowing","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","paginatorSpan","selectedPage","onPageChanged","cn","styles","pageNumber","onClick","Paginator","totalItemsCount","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","useEffect","paginator","p","User","user","src","photos","small","userPhoto","disabled","some","Users","props","undefined","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","header","alt","loginBlock","isAuth","SET_USER_DATA","setAuthUsersData","payload","getAuthUsersData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","creatField","required","Input","style","formSummaryError","length","stopSubmit","_error","sidebarReducer","INITIALIZED_SUCCESS","initialized","appReducer","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","SocialNetAPP","ReactDOM","document","getElementById","FormControl","meta","touched","children","hasError","formControl","Textarea","input","restProps","placeholder","validators","component","text","validate","backgroundColor","preloader","value","maxLengthCreator","maxLength","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","posts","likesCount","profile","addPostAC","newPostText","setStatus","getUserProfile","file","newPost","postId"],"mappings":"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","file":"static/js/main.c85d3c4a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.de73c074.png\";","import {ActionsTypes, DialogsPageType} from \"./store\";\r\n\r\n// type UpdateNewMessageBodyType = {\r\n//     type: \"UPDATE-NEW-MESSAGE-BODY\",\r\n//     body: string\r\n// }\r\ntype SendMessageType = {\r\n    type: \"SEND-MESSAGE\"\r\n    newMessageBody: string\r\n}\r\n\r\n// const UPDATE_NEW_MESSAGE_BODY = \"UPDATE-NEW-MESSAGE-BODY\"\r\nconst SEND_MESSAGE = \"SEND-MESSAGE\"\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: \"1\", name: \"Vova\"},\r\n        {id: \"2\", name: \"July\"},\r\n        {id: \"3\", name: \"Sasha\"},\r\n        {id: \"4\", name: \"Pasha\"}\r\n    ],\r\n    messages: [\r\n        {id: \"1\", message: \"Hi\"},\r\n        {id: \"2\", message: \"How are you?\"},\r\n        {id: \"3\", message: \"Yo\"},\r\n    ]\r\n}\r\nconst dialogsReducer = (state: DialogsPageType = initialState, action: ActionsTypes) => {\r\n\r\n    switch (action.type) {\r\n        // case UPDATE_NEW_MESSAGE_BODY: {\r\n        //     return {\r\n        //         ...state,\r\n        //         newMessageBody: action.body\r\n        //     }\r\n        // }\r\n        case SEND_MESSAGE: {\r\n            let body: string = action.newMessageBody\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: \"4\", message: body}]\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageAC = (newMessageBody: string): SendMessageType => ({type: SEND_MESSAGE, newMessageBody})\r\n// export const updateNewMessageBodyAC = (body: string): UpdateNewMessageBodyType =>\r\n//     ({type: UPDATE_NEW_MESSAGE_BODY, body: body})\r\nexport default dialogsReducer","import axios from \"axios\";\r\nimport {UsersObjectType} from \"../Components/Users/UsersContainer\";\r\n\r\ntype getUsersResponseType = {\r\n    items: Array<UsersObjectType>,\r\n    totalCount: number,\r\n    error: string | null\r\n}\r\nexport type StatusType = {\r\n    status: string\r\n}\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {'API-KEY': '08f8988c-36d5-478a-8bca-6bc3626a17f4'}\r\n})\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 30) {\r\n        return instance.get<getUsersResponseType>(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId: string | null) {\r\n        console.warn(\"Obsolete method. Please use profileAPI object\")\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId: string | null) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId: string | null) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status/`, {status: status})\r\n    },\r\n    savePhoto(photoFile:any) {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile)\r\n        return instance.put(`profile/photo/`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    }\r\n\r\n}\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2krnJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1fB6F\",\"item\":\"Navbar_item__Djm--\",\"activeLink\":\"Navbar_activeLink__2QY_b\"};","import React from 'react';\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                {/* eslint-disable-next-line react/jsx-no-undef */}\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nexport default Navbar;","import React from \"react\";\r\nimport s from './News.module.css'\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\nexport default News","import React from \"react\";\r\nimport s from './Music.module.css'\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\nexport default Music","import React from \"react\";\r\nimport s from './Settings.module.css'\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\nexport default Settings","import {ObjPropKeyType, ObjPropNameType, ObjPropValueType, UsersObjectType} from \"../Components/Users/UsersContainer\";\r\n\r\n\r\nexport const updateObjectInArray = (items: Array<UsersObjectType>,\r\n                                    itemId: ObjPropValueType, objPropName: ObjPropKeyType,\r\n                                    newObjProps: ObjPropNameType): Array<UsersObjectType> => {\r\n    return items.map((u) => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}","import {ActionsTypes} from \"./store\";\r\nimport {UsersObjectType} from \"../Components/Users/UsersContainer\";\r\nimport {usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AxiosResponse} from \"axios\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\ntype FollowType = {\r\n    type: \"FOLLOW\",\r\n    userId: number\r\n}\r\ntype UnfollowType = {\r\n    type: \"UNFOLLOW\",\r\n    userId: number\r\n}\r\ntype FollowUnfollowType = FollowType | UnfollowType\r\n\r\ntype SetUsersType = {\r\n    type: \"SET_USERS\",\r\n    users: Array<UsersObjectType>\r\n}\r\ntype SetCurrentPageType = {\r\n    type: \"SET_CURRENT_PAGE\",\r\n    currentPage: number\r\n}\r\ntype SetTotalUsersCountType = {\r\n    type: \"SET_TOTAL_USERS_COUNT\",\r\n    count: number\r\n}\r\ntype ToggleIsFetchingType = {\r\n    type: \"TOGGLE_IS_FETCHING\",\r\n    isFetching: boolean\r\n}\r\ntype ToggleIsFollowingInProgressType = {\r\n    type: \"TOGGLE_IS_FOLLOWING_PROGRESS\",\r\n    isFetchingForFollowing: boolean,\r\n    userId: number\r\n}\r\nexport type UsersType = {\r\n    users: Array<UsersObjectType>,\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nconst FOLLOW = \"FOLLOW\"\r\nconst UNFOLLOW = \"UNFOLLOW\"\r\nconst SET_USERS = \"SET_USERS\"\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\"\r\n\r\nlet initialState : UsersType = {\r\n    users: [\r\n        // {\r\n        //     id: 1, photoUrl: \"https://www.vokrug.tv/pic/person/6/e/0/2/6e02e4d5202366442710552912e7a10f.jpg\",\r\n        //     followed: false, fullName: \"Vladimir\", status: 'I am subscribed to life',\r\n        //     location: {city: 'Minsk', country: 'Belarus'}\r\n        // },\r\n        // {\r\n        //     id: 2, photoUrl: \"https://avatars.mds.yandex.net/get-kinopoisk-image/1777765/43ad37ff-34c4-4ebc-9f0a-2f2eaa41a18d/280x420\",\r\n        //     followed: true, fullName: \"Donald\", status: 'I am my own director',\r\n        //     location: {city: 'New York', country: 'USA'}\r\n        // },\r\n        // {\r\n        //     id: 3, photoUrl: \"https://upload.wikimedia.org/wikipedia/commons/8/88/Dmitry_Nagiev_2017_4.jpg?uselang=ru\",\r\n        //     followed: false, fullName: \"Dmitriy\", status: 'My ship is on the waves',\r\n        //     location: {city: 'Moscow', country: 'Russia'}\r\n        // },\r\n    ],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state= initialState, action: ActionsTypes):UsersType => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n                // users: state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {...u, followed: true}\r\n                //     }\r\n                //     return u\r\n                // })\r\n            }\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n                /*users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })*/\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n            //return { ...state, users: [...state.users, ...action.users]}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress:\r\n                    action.isFetchingForFollowing\r\n                        ? [...state.followingInProgress, action.userId]\r\n                        : state.followingInProgress.filter(id => id !== action.userId),\r\n                //userId: action.userId\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const followSuccess = (userId: number): FollowType => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId: number): UnfollowType => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users: Array<UsersObjectType>): SetUsersType => ({type: SET_USERS, users: users})\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageType => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalUsersCountType => ({\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    count: totalUsersCount\r\n})\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingType => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetchingForFollowing: boolean, userId: number): ToggleIsFollowingInProgressType => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetchingForFollowing,\r\n    userId\r\n})\r\ntype DispatchType = Dispatch<ActionsTypes>\r\nexport const requestUsers = (page: number, pageSize: number) => {\r\n    return async (dispatch: DispatchType) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n        const data = await usersAPI.getUsers(page, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n\r\n    }\r\n}\r\nconst followUnfollowFlow = async (dispatch: DispatchType, userId: number,\r\n                                  apiMethod: (userId: number) => Promise<AxiosResponse<any>>,\r\n                                  actionCreator: (userId: number) => FollowUnfollowType) => {\r\n\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\nexport const follow = (userId: number) => {\r\n    return async (dispatch: DispatchType) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n    }\r\n}\r\nexport const unfollow = (userId: number) => {\r\n    return async (dispatch: DispatchType) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n    }\r\n}\r\n// video 90 time 22.50\r\nexport default usersReducer","import React, {useEffect, useState} from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\"\r\n\r\nexport type PaginatorPropsType = {\r\n    totalItemsCount: number,\r\n    pageSize: number,\r\n    currentPage?: number,\r\n    onPageChanged: (pageNumber: number) => void | undefined\r\n    portionSize?: number\r\n}\r\n\r\nlet paginatorSpan = (currentPage: number, selectedPage: number, onPageChanged: (page: number) => void) => {\r\n    return <span className={cn({[styles.selectedPage]: currentPage === selectedPage}, styles.pageNumber)}\r\n                 key={selectedPage}\r\n                 onClick={() => {\r\n                     onPageChanged(selectedPage)\r\n                 }}> {selectedPage}</span>\r\n}\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage = 1, onPageChanged, portionSize = 20}: PaginatorPropsType) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n    useEffect(() => setPortionNumber(Math.ceil(currentPage / portionSize)), [currentPage])\r\n\r\n    return <div className={styles.paginator}>\r\n        {paginatorSpan(currentPage, 1, onPageChanged)}\r\n        {'...'}\r\n        {portionNumber > 1 && <button onClick={() => setPortionNumber(portionNumber - 1)}>{'<'}</button>}\r\n        {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => paginatorSpan(currentPage, p, onPageChanged))\r\n        }\r\n        {portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}>{'>'}</button>}\r\n        {'...'}\r\n        {paginatorSpan(currentPage, pagesCount, onPageChanged)}\r\n    </div>\r\n\r\n}\r\nexport default Paginator","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {UsersObjectType} from \"./UsersContainer\";\r\n\r\n\r\ntype UserPropsType = {\r\n    user: UsersObjectType,\r\n    follow: (userId: number) => void,\r\n    unfollow: (userId: number) => void\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nlet User = ({user, follow, unfollow, followingInProgress}: UserPropsType) => {\r\n\r\n    return (\r\n        <div key={user.id}>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                             className={styles.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                                unfollow(user.id)\r\n                            }}>Unfollow</button>\r\n                            : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                                follow(user.id)\r\n                            }}>Follow</button>\r\n                        }\r\n\r\n                    </div>\r\n                </span>\r\n            <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{'user.location.country'}</div>\r\n                        <div>{'user.location.city'}</div>\r\n                    </span>\r\n                </span>\r\n        </div>\r\n    )\r\n}\r\nexport default User","import React from \"react\";\r\nimport {UsersObjectType} from \"./UsersContainer\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nexport type UsersPropsType = {\r\n    totalUsersCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    onPageChanged: (pageNumber: number) => void\r\n    users: Array<UsersObjectType>,\r\n    follow: (userId: number) => void,\r\n    unfollow: (userId: number) => void\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nlet Users = ({\r\n                 totalUsersCount, pageSize, currentPage,\r\n                 onPageChanged, users, ...props\r\n             }: UsersPropsType) => {\r\n\r\n    return <div>\r\n        <Paginator totalItemsCount={totalUsersCount} pageSize={pageSize}\r\n                   currentPage={currentPage} onPageChanged={onPageChanged} portionSize={undefined} />\r\n        <div>\r\n            {users.map((u) =>\r\n                <User user={u}\r\n                      follow={props.follow}\r\n                      unfollow={props.unfollow}\r\n                      followingInProgress={props.followingInProgress}\r\n                      key={u.id}/>\r\n            )}\r\n        </div>\r\n    </div>\r\n\r\n}\r\nexport default Users","import {RootStateType} from \"./store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelectors =(state:RootStateType) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getUsers = createSelector(getUsersSelectors,(users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize =(state:RootStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount =(state:RootStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage =(state:RootStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching =(state:RootStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress =(state:RootStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootStateType} from \"../../redux/store\";\r\nimport {\r\n    follow, requestUsers,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {\r\n    getUsers,\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\ntype locationType = {\r\n    city: string,\r\n    country: string\r\n}\r\ntype photosType = {\r\n    small: string,\r\n    large: string\r\n}\r\nexport type UsersObjectType = {\r\n    id: number,\r\n    photos: photosType,\r\n    // photoUrl: string,\r\n    followed: boolean,\r\n    name: string,\r\n    //fullName: string,\r\n    status: string,\r\n    location: locationType\r\n}\r\n\r\nexport type ObjPropKeyType = \"id\" | \"photos\" | \"followed\" | \"name\" | \"status\" | \"location\"\r\nexport type ObjPropValueType = number | photosType | boolean | string | locationType\r\nexport type ObjPropNameType = { id: number } | { photos: photosType } |\r\n    { followed: boolean } | { name: string } | { status: string } | { location: locationType }\r\n\r\ntype UsersContainerPropsType = {\r\n    users: Array<UsersObjectType>,\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    follow: (userId: number) => void,\r\n    unfollow: (userId: number) => void,\r\n    toggleFollowingProgress: (isFetchingForFollowing: boolean, userId: number) => void,\r\n    followingInProgress: Array<number>\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nclass UsersContainer extends React.Component<UsersContainerPropsType> {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        let pagesCount = Math.ceil(this.props.totalUsersCount / this.props.pageSize)\r\n        let pages = []\r\n        for (let i = 1; i <= pagesCount; i++) {\r\n            pages.push(i)\r\n        }\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: RootStateType) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {follow, unfollow, toggleFollowingProgress, getUsers: requestUsers}),\r\n    //withAuthRedirect\r\n)(UsersContainer)","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './header.module.css';\r\nimport {ActionsTypes, SetUserDataActionType} from \"../../redux/store\";\r\nimport { HeaderContainerPropsType } from './headerContainer';\r\n\r\n//type HeaderContainerPropsType = any\r\n\r\n//     {\r\n//     isAuth: boolean\r\n//     login: null | string\r\n//     setAuthUsersData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => void\r\n// }\r\n\r\nconst Header = (props: HeaderContainerPropsType) => {\r\n    return (\r\n        <header className={s.header}>\r\n            {/*<img src=\"logo_color.jpg\" alt=\"\"/>*/}\r\n            <img\r\n                src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPMAAADICAMAAAAKlSdjAAAAY1BMVEX///8SJVAWKFP5+vs2Rmvs7vFZZoTo6u4ZLFWRmq7AxdDh5Ol+iKAzQ2glNl4eMFlea4jM0NmttMP09fdlcY1EU3V1gJlQXn6DjaS6wMxwe5XT199KWHmcpLY+TXC2u8mfp7h9Egs3AAALpklEQVR4nO2d6WKzKhCGRdxQwQVXXO//Kg8DajRtvyataZMenh9tQpTwMsOwiMayDAaDwWAwGAwGg8FgMBgMBoPBYDAYDAaDwWAwGAwGg+EnCJtKaKom++3C/AhR7w3TNCWIyb+D13cyDePfLtVjwHk6jvWQjaF6FyDG4UVLw8qh1Mv/nuyooSLDOIrtSSdM3vKisRsf87CgTfR7xXsAYWpTV72aRidvin6kwFgLMrCxVZ9EiZ2Gv1nIM+HD6FGEZLTCYeOwOp7bzucYY+537RDXzGlC6dg5QmM/zn/CxbtRdFaDmN8Kms7RO5qiOaUizAI0W50Y/4CHR1Q5bFs56cQ/PAq3xVjpA0f3h0r2ONJc/omEQz6T4hKnAhsP1Q+U6oFgv6PYcqvbmimendi1MI2ijx3i2elSp6esGW4PTHhwZsJGb0xfdHw2jDIcz31S3dNAXRHAoCUb50cV65GQUnoojum9fW5IifzL6+ERhXosSrLrFfc3TTeFk15QNEEpl13z18o9yE6ae/aLiR4QQnnmfHUs2TqZHJa9luihJCghTvflDDJnThAp5/OK9GiG0rWy2fnOKLIbp87iZX5amR5MB3Oo7FuSZSbgJe43M/k5RA7D7O+OKrLRl5MtcUqJHg/lFh+/PxVuZW/HnRPK8wNwZuGUnJARkUZmJ+TzA/hsjr1Tpv5eRdgrNGhXUFqyc+bALqtpmfqn5PVAIjmJyu32pNxaO7emZ185waWUOxSn5VfMMoDXz71Glku5Lj3PG33o6sVZbvMYetkrx2fE7JUmlob2TszwdLoSTHPmyg4HpymfuUVHcrwYnbusk0m93TNrNhgMBoPBYHgWeDsQkmfHuRDOZpn49bXfh8M9zxOHMmcypcA8lf/i7vhBczy3KwKEAhYgVl0GjH7MkM0ShChZx+IdZHU4s5UpcOm58TbEsB90Dum2EjF7XnrcWtZU6kQR7svNi+LWaaiP4CrEPqWQCQm2fCH/B7tpEx7tw1ofJgFK4o5jHqZ2smYxMRQ0EeadsJGzlDSTOdmHUpcyBVb8opzBtxRNXMK/bV7qJmi7rhHlvTwm3U1masfiQ3CVGKMri3yiedwnBFozXIaSXOwzoONarKwTtvrBvGoabBSE6/EoCTfNaD9HzOxFs/4SCi9ymUZXU5P1YwWm8qDd2kQNn4XSlVC/ie5sevNqg9KMpkuCUqo0y6qT9lk/8tlx4YscbNfoymllwTfXkA6jV/WU5r2hwYUWUe2qWSV6O5Hh1fEXMyrN6rvQtjejv2ONykf9wdCY2ptmDC64Ki3QvD+vCw5VzxkUl8uysq3qI3sRkanvSLeD3eRi53DTrFqAdpwcHY5XlY/s7fu1Zm2SpWZmdMcalY9Ivzf0hIpNsxK2ZBai/nCeh9QusEux4ONhX/Oy7hfrZiinmx51WPGOZh5skaWEOgkuMS22VbNfLb9o5g6cq6rYZckda1RSM7hXub6vg/CiWTm68m7u2IcYDjZk+wYUgkXHt81EaM3zrkVih03vaMbQQAedRtjBmWM7hApZw8eiWYcFVccC3XMpV2pWUXRpDZ2dRjvN2rv51l4PcurrvKAi0K7HmRY9UjPfGTpEcfhPO6eMN2hfp7HNIS+07KlcNW/endnjPculoBkM3a+5hHvN2ruFFQVXC1/pYsIDUK5g9+UdFMlXmpXbL4b27Og9zSrSQbVEdqyrb+tCpWYdW3Wc3jQr73a47EXvWqMCzcqaqrFwNloHzRZUuN16e5cFxkM3tkDQ0eEhJ2j0oJlLb7WVD0S2Z72nuVjjdgXHeRc7aM1YBe/ioNkKoWriAd23tQ40KwP1UNhZtoujZgzqAnS9AntsbwvNlWbVD4ZaszK00Ee172km0D9DIHJZuqRvIQQ0W7hee6yLZu3dwZ2Xj5RmZTYwdJnwK83au4OrxUj8ruZ37bxqBkNDNpjJwcNRc1JVhWzviXB1LuCo2Nm1HqXZciEJstpp5mva/ZonHZIy+JYrzcp65fVp7/p2/k57hpimNK9RPIcvPGoOYIQf59pYmOovA79I3L1mq1t6rJ1mdT668yqh1qw8OLMK8KZrzdN7mlOE3vi7jkK7fjJc7K41L4buA/daM91nkquDseUGa9e1abZ0jxXtNXP7q5qViTw/gahxk2awwptL5Mrjw+NBUDFaszJ0ldnC+qfmEjGNGqvhg2ZrVonjOZqh+dieKttNmqNg6VguX27piLJr5ekyRFk0K0N7qrV+rDlEaaOJ7a0GN816FIrO0ayHuCoAQdf4qWbVs+wbNKetronL6IAny7tFs4oMemiffag5vYzXL4P0i2acnqhZTWWaNZdgNwJ5X3MkBQUXQ+OCQUMmaDf4bNYpwKrZTdYYG21N40ozjEdWwAy6S79otnh5nmbZNa89koPejCDfarYm+WXjGrCwWOacxdLJgtJknVeumqEWtBlhbK0j/JXmKrjEQDVUUoOQnWYrYm8021/VLA29zN6gzewmox9otiZZbjZBwfE0ruskuLIRhTUbnDMULGF30ywNvZgxXcPBUbOb7Ae0IE8Vb68Z6vIszdLQS8j12WFq/JFmK4LlMFanPbPri5e3stujnsdkSFwTN82y8IsDwUhHtaSjZnI1e0vBmbqjZulh39SMO3d7tUafzEF2c2lBXffRNWF/Fl7tieG4xpk1aV0X5JLIO769WtNCcAPwh0Pu0fVqqRvmE7++zB3uvBDOP2WJFYekevRaLW6bu25kMBgMBoPBcAOhHFyF594hBOOY+Znvf3flhJ7TM3ftdSPk+NQDFTGdupXZsuBJD/Nz34jS9bCQdt6Oz/bk/B6CgKXxu66a/AvuZHIq+uw3vmNPRDE7awd3TEnm3bw/4veYx2AMzvHGMJDT8Onz434fTrtwPGPfuutkPv38sGcA7n2b08+P+wxcz5b1IpoteMKIuHnHzodUsovyx8+PewoaArFs/mYuBO7Fa868n+WRuLAJ7Lv3Ls/wPITQeZknlWROx8nwLdHzSAgP6RPvlrwmozVCU//12QYpc4Tqb99D/aNkDKGMe/HXhhNYeDxEiL2UZBDdwBNZvK/MiPy6knUVv5pkcG9oi/kX5gchzdX5LycZAhkUerLj+0IvrwKQ3L6iZJjux5kLo+97bmudnKQc/EyMLxSx9+A5LUfaRZ53q82yPo0yOpbpSz/5EsO6Ttjf9Dyw0OtD2Av2MuOQjyBqYaet+/zfUvhc1urGAvEqw82PwaqT5kNTUdF+JJtPBa0K4UMIO+eRF78LrpzBjREKcSscj4TXPbYbkpqKCbcIFX5DvziMeTaimDK9xQl3BU1oXTVzPrVTPjSipgkrMr2TCLG/9PxanpdMh+KOlW43DU0shIibYcpcT2875zPrXzpav0MmnCpvh5EuiwkxW7bOxONIplzQh+9i+A3cPBak47UamHFbb4zyhYejIW4+ieovDiaOV8Vxglgci54Of8yfPwB34Ur3/1BsMBgMBoPBYDAYDAaDwWAwvDw+3v/7iL/1k4psubnz35deOHnqJyzfiacuGlfJJ5ebuhf5SYCbILAXrBuUZjzDxpn9Wr0vGv1IvU4/qgQ3jdAX4aOU1PoaztxU6sIzHwSpvFe4VEdaqSZ2l185iD2L7x9sEDcWVpsCFzvHlRXp58SIZk0bLKy3zfiBa1VvnnPyhBBrzH2CF82RHeX724NyNujLUYudmfxwVJUQx1a2PDarm3SSH3BrOGEr9MMhVj4SH6/t2YuvnhuZMlUHi01ht1s/wyvXIdrrcRln/aIZv4pmTOFXS5brqRM7bN+G5q0i9mJnb7C4PtRNB/2rk520bv1ammUEg7v502VXKz7eV5Y3uf5F3MXOUT8U+siK8FY91AL3YtCaXYqf/Y6qA3x5KJJ1VWa+/mLkepV5ec/hMRzltCS99JAFD7feLFNUXe489Z2Bt9LdvFcTZ1P4p3cYGAwGg8FgMBgMBoPBYDAYDAaDwWAwGAyG/yP/ARAxl5oDJKw0AAAAAElFTkSuQmCC\"\r\n                alt=\"\"/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div> {props.login} - <button onClick={props.logout}>Log Out</button> </div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import {ActionsTypes, SetUserDataActionType} from \"./store\";\r\nimport {authAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStoreType} from \"./redux-store\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {FormAction} from \"redux-form/lib/actions\";\r\n\r\n\r\nexport type UserDataType = {\r\n    userId: string | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean\r\n    //isFetching: boolean\r\n}\r\n\r\ntype ThunkType = ThunkAction<void, AppStoreType, unknown, ActionsTypes | FormAction>\r\n\r\nconst SET_USER_DATA = \"auth/SET_USER_DATA\"\r\n\r\nlet initialState: UserDataType = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n    //isFetching: false\r\n}\r\n\r\nconst authReducer = (state: UserDataType = initialState, action: ActionsTypes): UserDataType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                // isAuth: true\r\n            }\r\n        }\r\n\r\n        // case TOGGLE_IS_FETCHING: {\r\n        //     return { ...state, isFetching: action.isFetching}\r\n        // }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//export const setUsersData = (userId: number | null, email: string | null, login: string | null, isFetching: boolean): SetUserDataActionType => (\r\nexport const setAuthUsersData = (userId: string | null, email: string | null, login: string | null, isAuth: boolean):\r\n    SetUserDataActionType => ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}})  //, isFetching\r\n//export const setAuthUsersData = (data:UserDataType):\r\n//SetUserDataActionType => ({type: SET_USER_DATA, data})  //, isFetching\r\n//export const toggleIsFetching = (isFetching:boolean): ToggleIsFetchingType => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const getAuthUsersData = (): ThunkType => async (dispatch) => {\r\n    const response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data\r\n        dispatch(setAuthUsersData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean): ThunkType =>\r\n    async (dispatch) => {\r\n        const response = await authAPI.login(email, password, rememberMe)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAuthUsersData())\r\n        } else {\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n            dispatch(stopSubmit('login', {_error: message}))\r\n        }\r\n    };\r\n\r\nexport const logout = (): ThunkType =>\r\n    async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUsersData(null, null, null, false))\r\n            }\r\n}\r\n\r\nexport default authReducer\r\n","import React from 'react';\r\nimport Header from \"./header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\nimport {AppStoreType} from \"../../redux/redux-store\";\r\n\r\n\r\n\r\ntype MapStatePropsType = {\r\n    login: string | null\r\n    isAuth: boolean,\r\n}\r\n\r\nexport type HeaderContainerPropsType = {\r\n    login: string | null\r\n    logout: () => void\r\n    isAuth: boolean,\r\n    //setAuthUsersData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => void\r\n    //getAuthUsersData: () => void\r\n}\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerPropsType> {\r\n    // componentDidMount() {\r\n    //     this.props.getAuthUsersData()\r\n        // authAPI.me()\r\n        // // axios.get(`https://social-network.samuraijs.com/api/1.0/auth/me`,\r\n        // //     {withCredentials: true})\r\n        //     .then(response => {\r\n        //         if (response.data.resultCode === 0) {\r\n        //             let {id, email, login} = response.data.data\r\n        //             this.props.setAuthUsersData(id, email, login, true)\r\n        //         }\r\n        //     })\r\n    // }\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props} />)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStoreType): MapStatePropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {creatField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, UserDataType} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStoreType} from \"../../redux/redux-store\";\r\nimport style from './../common/FormsControls/FormsControls.module.css'\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n\r\n}\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n}\r\ntype MapDispatchPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean) => void\r\n}\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {creatField('Email', 'email', [required], Input)}\r\n            {creatField('Password', 'password', [required], Input, {type: 'Password'})}\r\n            {creatField(null, 'rememberMe', [], Input, {type: 'checkbox'}, 'remember me')}\r\n\r\n            {error && <div className={style.formSummaryError}>{error}</div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props: MapStatePropsType & MapDispatchPropsType) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\nconst mapStateToProps = (state: AppStoreType): MapStatePropsType => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, {login})(Login)\r\n","import {ActionsTypes, SidebarType} from \"./store\";\r\n\r\nlet initialState = {}\r\n\r\nexport const sidebarReducer = (state: SidebarType = initialState, action: ActionsTypes) => {\r\n\r\n    return state\r\n}\r\nexport default sidebarReducer","import {ActionsTypes, InitializedSuccessActionType} from \"./store\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStoreType} from \"./redux-store\";\r\nimport {FormAction} from \"redux-form/lib/actions\";\r\nimport {getAuthUsersData} from \"./auth-reducer\";\r\n\r\ntype AppDataType = {\r\n    initialized: boolean\r\n}\r\ntype ThunkType = ThunkAction<void, AppStoreType, unknown, ActionsTypes | FormAction>\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\"\r\n\r\nlet initialState: AppDataType = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state: AppDataType = initialState, action: ActionsTypes): AppDataType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = ():\r\n    InitializedSuccessActionType => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = (): ThunkType => (dispatch) => {\r\n    let promise= dispatch(getAuthUsersData())\r\n    Promise.all([promise]).then(() =>{\r\n        dispatch(initializedSuccess())\r\n    })\r\n}\r\n\r\nexport default appReducer\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport reducer, { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\ntype RootReducersType = typeof rootReducer\r\nexport type AppStoreType = ReturnType<RootReducersType>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)\r\n));\r\n// let store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\n// @ts-ignore\r\nwindow.__store__ = store\r\n\r\nexport default store","import React, {ComponentType, Suspense} from 'react'\r\nimport Preloader from \"../Components/common/Preloader/Preloader\";\r\n\r\n\r\nexport function withSuspense <T>(Component: ComponentType<T>)  {\r\n\r\n    return (props:any) => {\r\n        return <Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n}\r\n\r\n","import React, {ComponentType, lazy, Suspense} from 'react';\nimport './App.css';\nimport Navbar from \"./Components/Navbar/Navbar\";\nimport {HashRouter, Route} from 'react-router-dom';\nimport News from \"./Components/News/News\";\nimport Music from \"./Components/Music/Music\";\nimport Settings from \"./Components/Settings/Settings\";\n\nimport UsersContainer from \"./Components/Users/UsersContainer\";\nimport HeaderContainer from \"./Components/Header/headerContainer\";\nimport LoginPage from \"./Components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {withRouter} from \"react-router\";\nimport {compose} from \"redux\";\nimport store, {AppStoreType} from \"./redux/redux-store\";\nimport Preloader from \"./Components/common/Preloader/Preloader\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\n\nconst DialogsContainer = lazy(() => import('./Components/Dialogs/DialogsContainer'));\nconst ProfileContainer = lazy(() => import('./Components/Profile/ProfileContainer'));\n\ntype AppPropsType = {\n    initializeApp: () => void\n    initialized: boolean\n}\n\nclass App extends React.Component <AppPropsType> {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/news' render={() => <News/>}/>\n                    <Route path='/music' render={() => <Music/>}/>\n                    <Route path='/settings' render={() => <Settings/>}/>\n                    <Route path='/login' render={() => <LoginPage/>}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: AppStoreType) => ({\n    initialized: state.app.initialized\n})\nlet AppContainer = compose<ComponentType>(withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);\n\nconst SocialNetAPP = () => {\n    return (<HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>)\n}\nexport default SocialNetAPP","import './index.css';\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport SocialNetAPP from \"./App\";\n\nReactDOM.render(<SocialNetAPP/>, document.getElementById('root'));\n","import React from \"react\";\r\nimport style from './FormsControls.module.css'\r\nimport {WrappedFieldMetaProps, WrappedFieldProps} from \"redux-form/lib/Field\";\r\nimport {Field} from \"redux-form\";\r\nimport {FieldValidatorType, required} from \"../../../utils/validators/validators\";\r\n\r\ntype FormsControlsPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\nexport const FormControl:\r\n    React.FC<FormsControlsPropsType> = (\r\n    {\r\n        meta: {touched, error},\r\n        children\r\n    }) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n            <div>\r\n                {children}\r\n                {/*                <textarea {...input} {...props}/>*/}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n// type CreatFieldPropsType = {\r\n//     placeholder: 'Email' | 'Password' | null\r\n//     name: string\r\n//     validators: Array<FieldValidatorType>\r\n//     component: React.FC<WrappedFieldProps>\r\n//     props: {\r\n//         type: 'Password' | 'checkbox'\r\n//     }\r\n//     text: string\r\n// }\r\ntype CreatFieldRestPropsType = {\r\n        type: 'Password' | 'checkbox'| ''\r\n}\r\n\r\nexport const creatField = (placeholder: string | null,\r\n                           name: string,\r\n                           validators: Array<FieldValidatorType>,\r\n                           component: React.FC<WrappedFieldProps>,\r\n                           props:CreatFieldRestPropsType={type:''},\r\n                           text: string = '') => (\r\n     <div>\r\n        <Field placeholder={placeholder} name={name}\r\n               validate={validators} component={component}\r\n               {...props}/>{text}\r\n    </div>\r\n)\r\n\r\n","export default __webpack_public_path__ + \"static/media/1495 (1).5afb2e9e.gif\";","import preloader from \"../../../assets/images/1495 (1).gif\";\r\n\r\nlet Preloader = () => {\r\n    return <div style={{backgroundColor: 'white'}}>\r\n        <img src={preloader}/>\r\n    </div>\r\n}\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__gSNWk\",\"error\":\"FormsControls_error__3eYEl\",\"formSummaryError\":\"FormsControls_formSummaryError__1SDVO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1EbGO\",\"pageNumber\":\"Paginator_pageNumber__zICHr\",\"selectedPage\":\"Paginator_selectedPage__bLouY\"};","export type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const required:FieldValidatorType = (value) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (value) => {\r\n    if (value.length>maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__2nTYT\",\"loginBlock\":\"header_loginBlock__3sDK8\"};","import {ActionsTypes, ProfileType, SetStatusActionType} from \"./store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {profileAPI, usersAPI} from \"../api/api\";\r\n\r\ntype AddPostActionType = {\r\n    type: \"ADD-POST\"\r\n    newPostText: string\r\n}\r\ntype DeletePostActionType = {\r\n    type: \"DELETE_POST\"\r\n    postId: number\r\n}\r\ntype UpdateNewPostTextActionType = {\r\n    type: \"UPDATE-NEW-POST-TEXT\",\r\n    newText: string\r\n}\r\ntype SetUserProfileActionType = {\r\n    type: \"SET-USER-PROFILE\",\r\n    profile: ProfileType\r\n}\r\ntype postsType = {\r\n    id: number,\r\n    message: string,\r\n    likesCount: number\r\n}\r\ntype SavePhotoActionType = {\r\n    type: \"SAVE_PHOTO_SUCCESS\"\r\n    photos: File\r\n}\r\n\r\nexport type ProfilePageType = {\r\n    posts: Array<postsType>\r\n//    newPostText: string\r\n    profile: ProfileType\r\n    status: string\r\n}\r\ntype DispatchType = Dispatch<ActionsTypes>\r\n\r\n// export type SetStatusActionType = {\r\n//     type: \"SET_STATUS\",\r\n//     status: string\r\n// }\r\n\r\nconst ADD_POST = \"ADD-POST\"\r\nconst DELETE_POST = \"DELETE_POST\"\r\n//const UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\"\r\nconst SET_USER_PROFILE = \"SET-USER-PROFILE\"\r\nconst SET_STATUS = \"SET_STATUS\"\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\"\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hi, how are you?\", likesCount: 2},\r\n        {id: 2, message: \"Hi, what are you doing?\", likesCount: 5},\r\n        {id: 3, message: \"It's my first post.\", likesCount: 4},\r\n    ],\r\n    profile: {\r\n        \"aboutMe\": \"\",\r\n        \"contacts\": {\r\n            \"facebook\": \"\",\r\n            \"website\": null,\r\n            \"vk\": \"\",\r\n            \"twitter\": \"\",\r\n            \"instagram\": \"\",\r\n            \"youtube\": null,\r\n            \"github\": \"\",\r\n            \"mainLink\": null\r\n        },\r\n        \"lookingForAJob\": false,\r\n        \"lookingForAJobDescription\": \"\",\r\n        \"fullName\": \"\",\r\n        \"userId\": \"2\",\r\n        \"photos\": {\r\n            \"small\": \"\",\r\n            \"large\": \"\"\r\n        }\r\n    },\r\n    status: \"\"\r\n}\r\n\r\nconst profileReducer = (state: ProfilePageType = initialState, action: ActionsTypes) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            const newPost: postsType = {\r\n                id: 4,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n        case DELETE_POST:\r\n            return { ...state, posts: state.posts.filter( p => p.id !== action.postId)}\r\n\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return { ...state, profile: {...state.profile, photos: action.photos}}\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\nexport const addPostAC = (newPostText: string): AddPostActionType => ({type: ADD_POST, newPostText})\r\nconst setUserProfile = (profile: ProfileType): SetUserProfileActionType => ({type: SET_USER_PROFILE, profile})\r\nconst setStatus = (status: string): SetStatusActionType => ({type: SET_STATUS, status})\r\nexport const deletePostAC = (postId: number): DeletePostActionType => ({type: DELETE_POST, postId})\r\nexport const savePhotoSuccess = (photos: File): SavePhotoActionType => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\nexport const getUserProfile = (userId: string) => async (dispatch: DispatchType) => {\r\n    const response = await usersAPI.getProfile(userId)\r\n            dispatch(setUserProfile(response.data))\r\n}\r\nexport const getStatus = (userId: string) => async (dispatch: DispatchType) => {\r\n    const response = await profileAPI.getStatus(userId)\r\n            dispatch(setStatus(response.data))\r\n}\r\nexport const updateStatus = (status: string) => async (dispatch: DispatchType) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setStatus(status))\r\n            }\r\n}\r\nexport const savePhoto = (file: File) => async (dispatch: DispatchType) => {\r\n    const response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\nexport default profileReducer"],"sourceRoot":""}