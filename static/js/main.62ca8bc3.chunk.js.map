{"version":3,"sources":["assets/images/user.png","api/api.ts","redux/dialogs-reducer.ts","Components/Users/users.module.css","Components/Navbar/Navbar.module.css","Components/common/FormsControls/FormsControls.tsx","Components/Navbar/Navbar.tsx","Components/News/News.tsx","Components/Music/Music.tsx","Components/Settings/Settings.tsx","utils/object-helpers.ts","redux/users-reducer.ts","Components/common/Paginator/Paginator.tsx","Components/Users/User.tsx","Components/Users/Users.tsx","redux/users-selectors.ts","Components/Users/UsersContainer.tsx","Components/Header/header.tsx","redux/auth-reducer.ts","Components/Header/headerContainer.tsx","Components/Login/Login.tsx","redux/sidebar-reducer.ts","redux/app-reducer.ts","redux/redux-store.ts","hoc/withSuspense.tsx","App.tsx","index.tsx","assets/images/1495 (1).gif","Components/common/Preloader/Preloader.tsx","Components/common/FormsControls/FormsControls.module.css","utils/validators/validators.ts","Components/common/Paginator/Paginator.module.css","Components/Header/header.module.css","redux/profile-reducer.ts"],"names":["instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageAC","newMessageBody","type","dialogsReducer","state","action","body","module","exports","FormControl","meta","touched","error","children","hasError","className","style","formControl","Textarea","props","input","restProps","Input","creatField","placeholder","validators","component","text","validate","Navbar","s","nav","item","to","activeClassName","activeLink","active","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","isFetchingForFollowing","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","paginatorSpan","selectedPage","onPageChanged","cn","styles","pageNumber","onClick","Paginator","totalItemsCount","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","useEffect","paginator","p","User","user","src","photos","small","userPhoto","disabled","some","Users","undefined","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","header","alt","loginBlock","isAuth","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUsersData","payload","getCaptchaUrlSuccess","getAuthUsersData","url","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","length","stopSubmit","_error","sidebarReducer","INITIALIZED_SUCCESS","initialized","appReducer","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","SocialNetAPP","ReactDOM","document","getElementById","backgroundColor","preloader","value","maxLengthCreator","maxLength","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","posts","likesCount","addPostAC","newPostText","setStatus","getUserProfile","file","getState","Error","reject","newPost","postId"],"mappings":"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","file":"static/js/main.62ca8bc3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.de73c074.png\";","import axios from \"axios\";\nimport {UsersObjectType} from \"../Components/Users/UsersContainer\";\nimport {PhotosType, ProfileType} from \"../redux/store\";\n\ntype getUsersResponseType = {\n    items: Array<UsersObjectType>,\n    totalCount: number,\n    error: string | null\n}\nexport type StatusType = {\n    status: string\n}\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {'API-KEY': '08f8988c-36d5-478a-8bca-6bc3626a17f4'}\n})\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 30) {\n        return instance.get<getUsersResponseType>(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => {\n                return response.data\n            })\n    },\n    follow(userId: number) {\n        return instance.post(`follow/${userId}`)\n    },\n    unfollow(userId: number) {\n        return instance.delete(`follow/${userId}`)\n    },\n    getProfile(userId: string | null) {\n        console.warn(\"Obsolete method. Please use profileAPI object\")\n        return profileAPI.getProfile(userId)\n    }\n}\nexport const profileAPI = {\n\n    getProfile(userId: string | null) {\n        return instance.get(`profile/` + userId)\n    },\n    getStatus(userId: string | null) {\n        return instance.get(`profile/status/` + userId)\n    },\n    updateStatus(status: string) {\n        return instance.put(`profile/status/`, {status: status})\n    },\n    savePhoto(photoFile:any) {\n        const formData = new FormData()\n        formData.append('image', photoFile)\n        return instance.put(`profile/photo/`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n    },\n    saveProfile(profile:ProfileType) {\n        return instance.put(`profile`, profile)\n    }\n\n}\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`)\n    },\n    login(email: string, password: string, rememberMe: boolean = false, captcha:string | null = null) {\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\n    },\n    logout() {\n        return instance.delete(`auth/login`)\n    }\n}\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get(`security/get-captcha-url`)\n    }\n}","import {ActionsTypes, DialogsPageType} from \"./store\";\n\n// type UpdateNewMessageBodyType = {\n//     type: \"UPDATE-NEW-MESSAGE-BODY\",\n//     body: string\n// }\ntype SendMessageType = {\n    type: \"SEND-MESSAGE\"\n    newMessageBody: string\n}\n\n// const UPDATE_NEW_MESSAGE_BODY = \"UPDATE-NEW-MESSAGE-BODY\"\nconst SEND_MESSAGE = \"SEND-MESSAGE\"\n\nlet initialState = {\n    dialogs: [\n        {id: \"1\", name: \"Vova\"},\n        {id: \"2\", name: \"July\"},\n        {id: \"3\", name: \"Sasha\"},\n        {id: \"4\", name: \"Pasha\"}\n    ],\n    messages: [\n        {id: \"1\", message: \"Hi\"},\n        {id: \"2\", message: \"How are you?\"},\n        {id: \"3\", message: \"Yo\"},\n    ]\n}\nconst dialogsReducer = (state: DialogsPageType = initialState, action: ActionsTypes) => {\n\n    switch (action.type) {\n        // case UPDATE_NEW_MESSAGE_BODY: {\n        //     return {\n        //         ...state,\n        //         newMessageBody: action.body\n        //     }\n        // }\n        case SEND_MESSAGE: {\n            let body: string = action.newMessageBody\n            return {\n                ...state,\n                messages: [...state.messages, {id: \"4\", message: body}]\n            }\n        }\n        default:\n            return state\n    }\n}\n\nexport const sendMessageAC = (newMessageBody: string): SendMessageType => ({type: SEND_MESSAGE, newMessageBody})\n// export const updateNewMessageBodyAC = (body: string): UpdateNewMessageBodyType =>\n//     ({type: UPDATE_NEW_MESSAGE_BODY, body: body})\nexport default dialogsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2krnJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1fB6F\",\"item\":\"Navbar_item__Djm--\",\"activeLink\":\"Navbar_activeLink__2QY_b\"};","import React from \"react\";\nimport style from './FormsControls.module.css'\nimport {WrappedFieldMetaProps, WrappedFieldProps} from \"redux-form/lib/Field\";\nimport {Field} from \"redux-form\";\nimport {FieldValidatorType, required} from \"../../../utils/validators/validators\";\n\ntype FormsControlsPropsType = {\n    meta: WrappedFieldMetaProps\n}\nexport const FormControl:\n    React.FC<FormsControlsPropsType> = (\n    {\n        meta: {touched, error},\n        children\n    }) => {\n    const hasError = touched && error\n    return (\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\n            <div>\n                {children}\n                {/*                <textarea {...input} {...props}/>*/}\n            </div>\n            {hasError && <span>{error}</span>}\n\n        </div>\n    )\n}\n\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\n    const {input, meta, ...restProps} = props\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\n}\n\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\n    const {input, meta, ...restProps} = props\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\n}\n// type CreatFieldPropsType = {\n//     placeholder: 'Email' | 'Password' | null\n//     name: string\n//     validators: Array<FieldValidatorType>\n//     component: React.FC<WrappedFieldProps>\n//     props: {\n//         type: 'Password' | 'checkbox'\n//     }\n//     text: string\n// }\ntype CreatFieldRestPropsType = {\n        type: 'Password' | 'checkbox'| ''\n}\n\nexport const creatField = (placeholder: string | null,\n                           name: string,\n                           validators: Array<FieldValidatorType>,\n                           component: React.FC<WrappedFieldProps>,\n                           props:CreatFieldRestPropsType={type:''},\n                           text: string = '') => (\n     <div>\n        <Field placeholder={placeholder} name={name}\n               validate={validators} component={component}\n               {...props}/>{text}\n    </div>\n)\n\n","import React from 'react';\nimport s from './Navbar.module.css'\nimport {NavLink} from 'react-router-dom'\n\nconst Navbar = () => {\n    return (\n        <nav className={s.nav}>\n            <div className={s.item}>\n                {/* eslint-disable-next-line react/jsx-no-undef */}\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\n            </div>\n            <div className={`${s.item} ${s.active}`}>\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\n            </div>\n        </nav>\n    )\n}\nexport default Navbar;","import React from \"react\";\nimport s from './News.module.css'\n\nconst News = () => {\n    return (\n        <div>\n            News\n        </div>\n    )\n}\nexport default News","import React from \"react\";\nimport s from './Music.module.css'\n\nconst Music = () => {\n    return (\n        <div>\n            Music\n        </div>\n    )\n}\nexport default Music","import React from \"react\";\nimport s from './Settings.module.css'\n\nconst Settings = () => {\n    return (\n        <div>\n            Settings\n        </div>\n    )\n}\nexport default Settings","import {ObjPropKeyType, ObjPropNameType, ObjPropValueType, UsersObjectType} from \"../Components/Users/UsersContainer\";\n\n\nexport const updateObjectInArray = (items: Array<UsersObjectType>,\n                                    itemId: ObjPropValueType, objPropName: ObjPropKeyType,\n                                    newObjProps: ObjPropNameType): Array<UsersObjectType> => {\n    return items.map((u) => {\n        if (u[objPropName] === itemId) {\n            return {...u, ...newObjProps}\n        }\n        return u\n    })\n}","import {ActionsTypes} from \"./store\";\nimport {UsersObjectType} from \"../Components/Users/UsersContainer\";\nimport {usersAPI} from \"../api/api\";\nimport {Dispatch} from \"redux\";\nimport {AxiosResponse} from \"axios\";\nimport {updateObjectInArray} from \"../utils/object-helpers\";\n\ntype FollowType = {\n    type: \"FOLLOW\",\n    userId: number\n}\ntype UnfollowType = {\n    type: \"UNFOLLOW\",\n    userId: number\n}\ntype FollowUnfollowType = FollowType | UnfollowType\n\ntype SetUsersType = {\n    type: \"SET_USERS\",\n    users: Array<UsersObjectType>\n}\ntype SetCurrentPageType = {\n    type: \"SET_CURRENT_PAGE\",\n    currentPage: number\n}\ntype SetTotalUsersCountType = {\n    type: \"SET_TOTAL_USERS_COUNT\",\n    count: number\n}\ntype ToggleIsFetchingType = {\n    type: \"TOGGLE_IS_FETCHING\",\n    isFetching: boolean\n}\ntype ToggleIsFollowingInProgressType = {\n    type: \"TOGGLE_IS_FOLLOWING_PROGRESS\",\n    isFetchingForFollowing: boolean,\n    userId: number\n}\nexport type UsersType = {\n    users: Array<UsersObjectType>,\n    pageSize: number,\n    totalUsersCount: number,\n    currentPage: number,\n    isFetching: boolean,\n    followingInProgress: Array<number>\n}\n\nconst FOLLOW = \"FOLLOW\"\nconst UNFOLLOW = \"UNFOLLOW\"\nconst SET_USERS = \"SET_USERS\"\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\"\n\nlet initialState : UsersType = {\n    users: [\n        // {\n        //     id: 1, photoUrl: \"https://www.vokrug.tv/pic/person/6/e/0/2/6e02e4d5202366442710552912e7a10f.jpg\",\n        //     followed: false, fullName: \"Vladimir\", status: 'I am subscribed to life',\n        //     location: {city: 'Minsk', country: 'Belarus'}\n        // },\n        // {\n        //     id: 2, photoUrl: \"https://avatars.mds.yandex.net/get-kinopoisk-image/1777765/43ad37ff-34c4-4ebc-9f0a-2f2eaa41a18d/280x420\",\n        //     followed: true, fullName: \"Donald\", status: 'I am my own director',\n        //     location: {city: 'New York', country: 'USA'}\n        // },\n        // {\n        //     id: 3, photoUrl: \"https://upload.wikimedia.org/wikipedia/commons/8/88/Dmitry_Nagiev_2017_4.jpg?uselang=ru\",\n        //     followed: false, fullName: \"Dmitriy\", status: 'My ship is on the waves',\n        //     location: {city: 'Moscow', country: 'Russia'}\n        // },\n    ],\n    pageSize: 10,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: true,\n    followingInProgress: []\n}\n\nconst usersReducer = (state= initialState, action: ActionsTypes):UsersType => {\n\n    switch (action.type) {\n        case FOLLOW: {\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\n                // users: state.users.map(u => {\n                //     if (u.id === action.userId) {\n                //         return {...u, followed: true}\n                //     }\n                //     return u\n                // })\n            }\n        }\n        case UNFOLLOW: {\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\n                /*users: state.users.map(u => {\n                    if (u.id === action.userId) {\n                        return {...u, followed: false}\n                    }\n                    return u\n                })*/\n            }\n        }\n        case SET_USERS: {\n            return {...state, users: action.users}\n            //return { ...state, users: [...state.users, ...action.users]}\n        }\n        case SET_CURRENT_PAGE: {\n            return {...state, currentPage: action.currentPage}\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return {...state, totalUsersCount: action.count}\n        }\n        case TOGGLE_IS_FETCHING: {\n            return {...state, isFetching: action.isFetching}\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state,\n                followingInProgress:\n                    action.isFetchingForFollowing\n                        ? [...state.followingInProgress, action.userId]\n                        : state.followingInProgress.filter(id => id !== action.userId),\n                //userId: action.userId\n            }\n        }\n\n        default:\n            return state\n    }\n}\nexport const followSuccess = (userId: number): FollowType => ({type: FOLLOW, userId})\nexport const unfollowSuccess = (userId: number): UnfollowType => ({type: UNFOLLOW, userId})\nexport const setUsers = (users: Array<UsersObjectType>): SetUsersType => ({type: SET_USERS, users: users})\nexport const setCurrentPage = (currentPage: number): SetCurrentPageType => ({type: SET_CURRENT_PAGE, currentPage})\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalUsersCountType => ({\n    type: SET_TOTAL_USERS_COUNT,\n    count: totalUsersCount\n})\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingType => ({type: TOGGLE_IS_FETCHING, isFetching})\nexport const toggleFollowingProgress = (isFetchingForFollowing: boolean, userId: number): ToggleIsFollowingInProgressType => ({\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    isFetchingForFollowing,\n    userId\n})\ntype DispatchType = Dispatch<ActionsTypes>\nexport const requestUsers = (page: number, pageSize: number) => {\n    return async (dispatch: DispatchType) => {\n        dispatch(toggleIsFetching(true))\n        dispatch(setCurrentPage(page))\n        const data = await usersAPI.getUsers(page, pageSize)\n        dispatch(toggleIsFetching(false))\n        dispatch(setUsers(data.items))\n        dispatch(setTotalUsersCount(data.totalCount))\n\n    }\n}\nconst followUnfollowFlow = async (dispatch: DispatchType, userId: number,\n                                  apiMethod: (userId: number) => Promise<AxiosResponse<any>>,\n                                  actionCreator: (userId: number) => FollowUnfollowType) => {\n\n    dispatch(toggleFollowingProgress(true, userId))\n    let response = await apiMethod(userId)\n    if (response.data.resultCode === 0) {\n        dispatch(actionCreator(userId))\n    }\n    dispatch(toggleFollowingProgress(false, userId))\n}\nexport const follow = (userId: number) => {\n    return async (dispatch: DispatchType) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\n    }\n}\nexport const unfollow = (userId: number) => {\n    return async (dispatch: DispatchType) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\n    }\n}\n// video 90 time 22.50\nexport default usersReducer","import React, {useEffect, useState} from \"react\";\nimport styles from \"./Paginator.module.css\";\nimport cn from \"classnames\"\n\nexport type PaginatorPropsType = {\n    totalItemsCount: number,\n    pageSize: number,\n    currentPage?: number,\n    onPageChanged: (pageNumber: number) => void | undefined\n    portionSize?: number\n}\n\nlet paginatorSpan = (currentPage: number, selectedPage: number, onPageChanged: (page: number) => void) => {\n    return <span className={cn({[styles.selectedPage]: currentPage === selectedPage}, styles.pageNumber)}\n                 key={selectedPage}\n                 onClick={() => {\n                     onPageChanged(selectedPage)\n                 }}> {selectedPage}</span>\n}\n\nlet Paginator = ({totalItemsCount, pageSize, currentPage = 1, onPageChanged, portionSize = 20}: PaginatorPropsType) => {\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\n    let pages = []\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n    let portionCount = Math.ceil(pagesCount / portionSize)\n    let [portionNumber, setPortionNumber] = useState(1)\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\n    let rightPortionPageNumber = portionNumber * portionSize\n    useEffect(() => setPortionNumber(Math.ceil(currentPage / portionSize)), [currentPage])\n\n    return <div className={styles.paginator}>\n        {paginatorSpan(currentPage, 1, onPageChanged)}\n        {'...'}\n        {portionNumber > 1 && <button onClick={() => setPortionNumber(portionNumber - 1)}>{'<'}</button>}\n        {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n            .map(p => paginatorSpan(currentPage, p, onPageChanged))\n        }\n        {portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}>{'>'}</button>}\n        {'...'}\n        {paginatorSpan(currentPage, pagesCount, onPageChanged)}\n    </div>\n\n}\nexport default Paginator","import React from \"react\";\nimport styles from \"./users.module.css\";\nimport userPhoto from \"../../assets/images/user.png\";\nimport {NavLink} from \"react-router-dom\";\nimport {UsersObjectType} from \"./UsersContainer\";\n\n\ntype UserPropsType = {\n    user: UsersObjectType,\n    follow: (userId: number) => void,\n    unfollow: (userId: number) => void\n    followingInProgress: Array<number>\n}\n\nlet User = ({user, follow, unfollow, followingInProgress}: UserPropsType) => {\n\n    return (\n        <div key={user.id}>\n                <span>\n                    <div>\n                        <NavLink to={'/profile/' + user.id}>\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto}\n                             className={styles.userPhoto}/>\n                        </NavLink>\n                    </div>\n                    <div>\n                        {user.followed\n                            ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n                                unfollow(user.id)\n                            }}>Unfollow</button>\n                            : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n                                follow(user.id)\n                            }}>Follow</button>\n                        }\n\n                    </div>\n                </span>\n            <span>\n                    <span>\n                        <div>{user.name}</div>\n                        <div>{user.status}</div>\n                    </span>\n                    <span>\n                        <div>{'user.location.country'}</div>\n                        <div>{'user.location.city'}</div>\n                    </span>\n                </span>\n        </div>\n    )\n}\nexport default User","import React from \"react\";\nimport {UsersObjectType} from \"./UsersContainer\";\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\n\nexport type UsersPropsType = {\n    totalUsersCount: number,\n    pageSize: number,\n    currentPage: number,\n    onPageChanged: (pageNumber: number) => void\n    users: Array<UsersObjectType>,\n    follow: (userId: number) => void,\n    unfollow: (userId: number) => void\n    followingInProgress: Array<number>\n}\n\nlet Users = ({\n                 totalUsersCount, pageSize, currentPage,\n                 onPageChanged, users, ...props\n             }: UsersPropsType) => {\n\n    return <div>\n        <Paginator totalItemsCount={totalUsersCount} pageSize={pageSize}\n                   currentPage={currentPage} onPageChanged={onPageChanged} portionSize={undefined} />\n        <div>\n            {users.map((u) =>\n                <User user={u}\n                      follow={props.follow}\n                      unfollow={props.unfollow}\n                      followingInProgress={props.followingInProgress}\n                      key={u.id}/>\n            )}\n        </div>\n    </div>\n\n}\nexport default Users","import {RootStateType} from \"./store\";\nimport {createSelector} from \"reselect\";\n\nconst getUsersSelectors =(state:RootStateType) => {\n    return state.usersPage.users\n}\nexport const getUsers = createSelector(getUsersSelectors,(users) => {\n    return users.filter(u => true)\n})\n\nexport const getPageSize =(state:RootStateType) => {\n    return state.usersPage.pageSize\n}\nexport const getTotalUsersCount =(state:RootStateType) => {\n    return state.usersPage.totalUsersCount\n}\nexport const getCurrentPage =(state:RootStateType) => {\n    return state.usersPage.currentPage\n}\nexport const getIsFetching =(state:RootStateType) => {\n    return state.usersPage.isFetching\n}\nexport const getFollowingInProgress =(state:RootStateType) => {\n    return state.usersPage.followingInProgress\n}","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {RootStateType} from \"../../redux/store\";\nimport {\n    follow, requestUsers,\n    toggleFollowingProgress,\n    unfollow\n} from \"../../redux/users-reducer\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {\n    getUsers,\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount\n} from \"../../redux/users-selectors\";\n\n\ntype locationType = {\n    city: string,\n    country: string\n}\ntype photosType = {\n    small: string,\n    large: string\n}\nexport type UsersObjectType = {\n    id: number,\n    photos: photosType,\n    // photoUrl: string,\n    followed: boolean,\n    name: string,\n    //fullName: string,\n    status: string,\n    location: locationType\n}\n\nexport type ObjPropKeyType = \"id\" | \"photos\" | \"followed\" | \"name\" | \"status\" | \"location\"\nexport type ObjPropValueType = number | photosType | boolean | string | locationType\nexport type ObjPropNameType = { id: number } | { photos: photosType } |\n    { followed: boolean } | { name: string } | { status: string } | { location: locationType }\n\ntype UsersContainerPropsType = {\n    users: Array<UsersObjectType>,\n    pageSize: number,\n    totalUsersCount: number,\n    currentPage: number,\n    isFetching: boolean,\n    follow: (userId: number) => void,\n    unfollow: (userId: number) => void,\n    toggleFollowingProgress: (isFetchingForFollowing: boolean, userId: number) => void,\n    followingInProgress: Array<number>\n    getUsers: (currentPage: number, pageSize: number) => void\n}\n\nclass UsersContainer extends React.Component<UsersContainerPropsType> {\n    componentDidMount() {\n        const {currentPage, pageSize} = this.props\n        this.props.getUsers(currentPage, pageSize)\n    }\n\n    onPageChanged = (pageNumber: number) => {\n        const {pageSize} = this.props\n        this.props.getUsers(pageNumber, pageSize)\n    }\n\n    render() {\n        let pagesCount = Math.ceil(this.props.totalUsersCount / this.props.pageSize)\n        let pages = []\n        for (let i = 1; i <= pagesCount; i++) {\n            pages.push(i)\n        }\n        return <>\n            {this.props.isFetching ? <Preloader/> : null}\n\n            <Users totalUsersCount={this.props.totalUsersCount}\n                   pageSize={this.props.pageSize}\n                   currentPage={this.props.currentPage}\n                   onPageChanged={this.onPageChanged}\n                   users={this.props.users}\n                   follow={this.props.follow}\n                   unfollow={this.props.unfollow}\n                   followingInProgress={this.props.followingInProgress}\n\n            />\n        </>\n    }\n}\n\nlet mapStateToProps = (state: RootStateType) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\nexport default compose<React.ComponentType>(\n    connect(mapStateToProps, {follow, unfollow, toggleFollowingProgress, getUsers: requestUsers}),\n    //withAuthRedirect\n)(UsersContainer)","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport s from './header.module.css';\nimport {ActionsTypes, SetUserDataActionType} from \"../../redux/store\";\nimport { HeaderContainerPropsType } from './headerContainer';\n\n//type HeaderContainerPropsType = any\n\n//     {\n//     isAuth: boolean\n//     login: null | string\n//     setAuthUsersData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => void\n// }\n\nconst Header = (props: HeaderContainerPropsType) => {\n    return (\n        <header className={s.header}>\n            {/*<img src=\"logo_color.jpg\" alt=\"\"/>*/}\n            <img\n                src=\"data:image/png;base64,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\"\n                alt=\"\"/>\n            <div className={s.loginBlock}>\n                {props.isAuth\n                    ? <div> {props.login} - <button onClick={props.logout}>Log Out</button> </div>\n                    : <NavLink to={'/login'}>Login</NavLink>}\n            </div>\n        </header>\n    )\n}\nexport default Header;","import {ActionsTypes, GetCaptchaUrlActionType, SetUserDataActionType} from \"./store\";\nimport {authAPI, securityAPI} from \"../api/api\";\nimport {Dispatch} from \"redux\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {AppStoreType, ThunkType} from \"./redux-store\";\nimport {stopSubmit} from \"redux-form\";\nimport {FormAction} from \"redux-form/lib/actions\";\nimport {Component} from \"react\";\nimport {FC} from \"react\";\n\n\nexport type UserDataType = {\n    userId: string | null,\n    email: string | null,\n    login: string | null,\n    isAuth: boolean,\n    captchaUrl: string | null // if null, then captcha is not required\n    //isFetching: boolean\n}\n\n\nconst SET_USER_DATA = \"auth/SET_USER_DATA\"\nconst GET_CAPTCHA_URL_SUCCESS = \"auth/GET_CAPTCHA_URL_SUCCESS\"\n\nlet initialState: UserDataType = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null\n    //isFetching: false\n}\n\nconst authReducer = (state: UserDataType = initialState, action: ActionsTypes): UserDataType => {\n    switch (action.type) {\n        case SET_USER_DATA:\n        case GET_CAPTCHA_URL_SUCCESS:\n            return {\n                ...state,\n                ...action.payload,\n                // isAuth: true\n            }\n\n        // case TOGGLE_IS_FETCHING: {\n        //     return { ...state, isFetching: action.isFetching}\n        // }\n        default:\n            return state\n    }\n}\n\n//export const setUsersData = (userId: number | null, email: string | null, login: string | null, isFetching: boolean): SetUserDataActionType => (\nexport const setAuthUsersData = (userId: string | null, email: string | null, login: string | null, isAuth: boolean, captchaUrl: string | null):\n    SetUserDataActionType => ({type: SET_USER_DATA, payload: {userId, email, login, isAuth, captchaUrl}})\n\nexport const getCaptchaUrlSuccess = (captchaUrl: string | null):\n    GetCaptchaUrlActionType => ({type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}})\n\nexport const getAuthUsersData = (): ThunkType => async (dispatch) => {\n    const response = await authAPI.me()\n    if (response.data.resultCode === 0) {\n        let {id, email, login} = response.data.data\n        dispatch(setAuthUsersData(id, email, login, true, null))\n    }\n}\n\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string | null): ThunkType =>\n    async (dispatch) => {\n        const response = await authAPI.login(email, password, rememberMe, captcha)\n        if (response.data.resultCode === 0) {\n            // success, get auth data\n            dispatch(getAuthUsersData())\n        } else {\n            if (response.data.resultCode === 10) {\n                dispatch(getCaptchaUrl())\n            }\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\n            dispatch(stopSubmit('login', {_error: message}))\n        }\n    };\n\nexport const getCaptchaUrl = (): ThunkType =>\n    async (dispatch) => {\n        const response = await securityAPI.getCaptchaUrl()\n        const captchaUrl = response.data.url\n        dispatch(getCaptchaUrlSuccess(captchaUrl))\n    };\n\nexport const logout = (): ThunkType =>\n    async (dispatch) => {\n        let response = await authAPI.logout()\n        if (response.data.resultCode === 0) {\n            dispatch(setAuthUsersData(null, null, null, false, null))\n        }\n    }\n\nexport default authReducer\n","import React from 'react';\nimport Header from \"./header\";\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../redux/auth-reducer\";\nimport {AppStoreType} from \"../../redux/redux-store\";\n\n\n\ntype MapStatePropsType = {\n    login: string | null\n    isAuth: boolean,\n}\n\nexport type HeaderContainerPropsType = {\n    login: string | null\n    logout: () => void\n    isAuth: boolean,\n    //setAuthUsersData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => void\n    //getAuthUsersData: () => void\n}\n\nclass HeaderContainer extends React.Component<HeaderContainerPropsType> {\n    // componentDidMount() {\n    //     this.props.getAuthUsersData()\n        // authAPI.me()\n        // // axios.get(`https://social-network.samuraijs.com/api/1.0/auth/me`,\n        // //     {withCredentials: true})\n        //     .then(response => {\n        //         if (response.data.resultCode === 0) {\n        //             let {id, email, login} = response.data.data\n        //             this.props.setAuthUsersData(id, email, login, true)\n        //         }\n        //     })\n    // }\n\n    render() {\n        return (\n            <Header {...this.props} />)\n    }\n}\n\nconst mapStateToProps = (state: AppStoreType): MapStatePropsType => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login\n})\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\nimport {creatField, Input} from \"../common/FormsControls/FormsControls\";\nimport {required} from \"../../utils/validators/validators\";\nimport {connect} from \"react-redux\";\nimport {login} from \"../../redux/auth-reducer\";\nimport {Redirect} from \"react-router-dom\";\nimport {AppStoreType} from \"../../redux/redux-store\";\nimport style from './../common/FormsControls/FormsControls.module.css'\n\nexport type CaptchaType = {\n    captchaUrl: string | null\n}\n\nexport type LoginFormValueType = {\n    email: string\n    password: string\n    rememberMe: boolean\n    captcha: string\n}\ntype LoginFormValueTypeKeys = Extract<keyof LoginFormValueType, string>\n\ntype MapStatePropsType = {\n    captchaUrl: string | null\n    isAuth: boolean\n}\ntype MapDispatchPropsType = {\n    login: (email: string, password: string, rememberMe: boolean, captcha: string) => void\n}\nconst LoginForm: React.FC<InjectedFormProps<LoginFormValueType, CaptchaType> & CaptchaType> =\n    ({handleSubmit, error, captchaUrl}) => {\n        return (\n            <form onSubmit={handleSubmit}>\n                {creatField('Email', 'email', [required], Input)}\n                {creatField('Password', 'password', [required],\n                    Input, {type: 'Password'})}\n\n                {creatField(null, 'rememberMe', [],\n                    Input, {type: 'checkbox'}, 'remember me')}\n\n                {captchaUrl && <img src={captchaUrl}/>}\n                {captchaUrl && creatField('Symbols from image', 'captcha',\n                    [required], Input, {type: ''})}\n\n                {error && <div className={style.formSummaryError}>{error}</div>}\n                <div>\n                    <button>Login</button>\n                </div>\n            </form>\n        )\n    }\nconst LoginReduxForm = reduxForm<LoginFormValueType, CaptchaType>({form: 'login'})(LoginForm)\n\nconst Login = (props: MapStatePropsType & MapDispatchPropsType) => {\n    const onSubmit = (formData: LoginFormValueType) => {\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\n    }\n    if (props.isAuth) {\n        return <Redirect to={'/profile'}/>\n    }\n    return <div>\n        <h1>LOGIN</h1>\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\n    </div>\n}\nconst mapStateToProps = (state: AppStoreType): MapStatePropsType => ({\n    captchaUrl: state.auth.captchaUrl,\n    isAuth: state.auth.isAuth\n})\nexport default connect(mapStateToProps, {login})(Login)\n","import {ActionsTypes, SidebarType} from \"./store\";\n\nlet initialState = {}\n\nexport const sidebarReducer = (state: SidebarType = initialState, action: ActionsTypes) => {\n\n    return state\n}\nexport default sidebarReducer","import {ActionsTypes, InitializedSuccessActionType} from \"./store\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {AppStoreType} from \"./redux-store\";\nimport {FormAction} from \"redux-form/lib/actions\";\nimport {getAuthUsersData} from \"./auth-reducer\";\n\ntype AppDataType = {\n    initialized: boolean\n}\ntype ThunkType = ThunkAction<void, AppStoreType, unknown, ActionsTypes | FormAction>\n\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\"\n\nlet initialState: AppDataType = {\n    initialized: false\n}\n\nconst appReducer = (state: AppDataType = initialState, action: ActionsTypes): AppDataType => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS: {\n            return {\n                ...state,\n                initialized: true,\n            }\n        }\n        default:\n            return state\n    }\n}\n\nexport const initializedSuccess = ():\n    InitializedSuccessActionType => ({type: INITIALIZED_SUCCESS})\n\nexport const initializeApp = (): ThunkType => (dispatch) => {\n    let promise= dispatch(getAuthUsersData())\n    Promise.all([promise]).then(() =>{\n        dispatch(initializedSuccess())\n    })\n}\n\nexport default appReducer\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer, {UserDataType} from \"./auth-reducer\";\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\"\nimport reducer, { reducer as formReducer } from 'redux-form'\nimport appReducer from \"./app-reducer\";\nimport {ActionsTypes} from \"./store\";\nimport {FormAction} from \"redux-form/lib/actions\";\n\n\n\nlet rootReducer = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n})\n\ntype RootReducersType = typeof rootReducer\nexport type AppStoreType = ReturnType<RootReducersType>\n\nexport type ThunkType = ThunkAction<void, AppStoreType, unknown, ActionsTypes | FormAction>\n\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)\n));\n// let store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\n\n// @ts-ignore\nwindow.__store__ = store\n\nexport default store","import React, {ComponentType, Suspense} from 'react'\nimport Preloader from \"../Components/common/Preloader/Preloader\";\n\n\nexport function withSuspense <T>(Component: ComponentType<T>)  {\n\n    return (props:any) => {\n        return <Suspense fallback={<Preloader/>}>\n            <Component {...props}/>\n        </Suspense>\n    }\n}\n\n","import React, {ComponentType, lazy, Suspense} from 'react';\nimport './App.css';\nimport Navbar from \"./Components/Navbar/Navbar\";\nimport {HashRouter, Route} from 'react-router-dom';\nimport News from \"./Components/News/News\";\nimport Music from \"./Components/Music/Music\";\nimport Settings from \"./Components/Settings/Settings\";\n\nimport UsersContainer from \"./Components/Users/UsersContainer\";\nimport HeaderContainer from \"./Components/Header/headerContainer\";\nimport LoginPage from \"./Components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {withRouter} from \"react-router\";\nimport {compose} from \"redux\";\nimport store, {AppStoreType} from \"./redux/redux-store\";\nimport Preloader from \"./Components/common/Preloader/Preloader\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\n\nconst DialogsContainer = lazy(() => import('./Components/Dialogs/DialogsContainer'));\nconst ProfileContainer = lazy(() => import('./Components/Profile/ProfileContainer'));\n\ntype AppPropsType = {\n    initializeApp: () => void\n    initialized: boolean\n}\n\nclass App extends React.Component <AppPropsType> {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/news' render={() => <News/>}/>\n                    <Route path='/music' render={() => <Music/>}/>\n                    <Route path='/settings' render={() => <Settings/>}/>\n                    <Route path='/login' render={() => <LoginPage/>}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: AppStoreType) => ({\n    initialized: state.app.initialized\n})\nlet AppContainer = compose<ComponentType>(withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);\n\nconst SocialNetAPP = () => {\n    return (<HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>)\n}\nexport default SocialNetAPP","import './index.css';\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport SocialNetAPP from \"./App\";\n\nReactDOM.render(<SocialNetAPP/>, document.getElementById('root'));\n","export default __webpack_public_path__ + \"static/media/1495 (1).5afb2e9e.gif\";","import preloader from \"../../../assets/images/1495 (1).gif\";\n\nlet Preloader = () => {\n    return <div style={{backgroundColor: 'white'}}>\n        <img src={preloader}/>\n    </div>\n}\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__gSNWk\",\"error\":\"FormsControls_error__3eYEl\",\"formSummaryError\":\"FormsControls_formSummaryError__1SDVO\"};","export type FieldValidatorType = (value: string) => string | undefined\n\nexport const required:FieldValidatorType = (value) => {\n    if (value) return undefined\n    return 'Field is required'\n}\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (value) => {\n    if (value.length>maxLength) return `Max length is ${maxLength} symbols`\n    return undefined\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1EbGO\",\"pageNumber\":\"Paginator_pageNumber__zICHr\",\"selectedPage\":\"Paginator_selectedPage__bLouY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__2nTYT\",\"loginBlock\":\"header_loginBlock__3sDK8\"};","import {ActionsTypes, ProfileType, SetStatusActionType} from \"./store\";\nimport {Dispatch} from \"redux\";\nimport {profileAPI, usersAPI} from \"../api/api\";\nimport {ThunkType} from \"./redux-store\";\nimport {stopSubmit} from \"redux-form\";\n\n\ntype AddPostActionType = {\n    type: \"ADD-POST\"\n    newPostText: string\n}\ntype DeletePostActionType = {\n    type: \"DELETE_POST\"\n    postId: number\n}\ntype UpdateNewPostTextActionType = {\n    type: \"UPDATE-NEW-POST-TEXT\",\n    newText: string\n}\ntype SetUserProfileActionType = {\n    type: \"SET-USER-PROFILE\",\n    profile: ProfileType\n}\ntype postsType = {\n    id: number,\n    message: string,\n    likesCount: number\n}\ntype SavePhotoActionType = {\n    type: \"SAVE_PHOTO_SUCCESS\"\n    photos: File\n}\n\nexport type ProfilePageType = {\n    posts: Array<postsType>\n//    newPostText: string\n    profile: ProfileType\n    status: string\n}\ntype DispatchType = Dispatch<ActionsTypes>\n\n// export type SetStatusActionType = {\n//     type: \"SET_STATUS\",\n//     status: string\n// }\n\nconst ADD_POST = \"ADD-POST\"\nconst DELETE_POST = \"DELETE_POST\"\n//const UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\"\nconst SET_USER_PROFILE = \"SET-USER-PROFILE\"\nconst SET_STATUS = \"SET_STATUS\"\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\"\n\n\nlet initialState: ProfilePageType = {\n    posts: [\n        {id: 1, message: \"Hi, how are you?\", likesCount: 2},\n        {id: 2, message: \"Hi, what are you doing?\", likesCount: 5},\n        {id: 3, message: \"It's my first post.\", likesCount: 4},\n    ],\n    profile: {\n        \"aboutMe\": \"\",\n        \"contacts\": {\n            \"facebook\": \"\",\n            \"website\": \"\",\n            \"vk\": \"\",\n            \"twitter\": \"\",\n            \"instagram\": \"\",\n            \"youtube\": \"\",\n            \"github\": \"\",\n            \"mainLink\": \"\"\n        },\n        \"lookingForAJob\": false,\n        \"lookingForAJobDescription\": \"\",\n        \"fullName\": \"\",\n        \"userId\": \"2\",\n        \"photos\": {\n            \"small\": \"\",\n            \"large\": \"\"\n        }\n    },\n    status: \"\"\n}\n\nconst profileReducer = (state: ProfilePageType = initialState, action: ActionsTypes) => {\n    switch (action.type) {\n        case ADD_POST: {\n            const newPost: postsType = {\n                id: 4,\n                message: action.newPostText,\n                likesCount: 0\n            }\n            return {\n                ...state,\n                posts: [...state.posts, newPost],\n            }\n        }\n        case SET_STATUS: {\n            return {\n                ...state,\n                status: action.status\n            }\n        }\n        case SET_USER_PROFILE: {\n            return {\n                ...state, profile: action.profile\n            }\n        }\n        case DELETE_POST:\n            return {...state, posts: state.posts.filter(p => p.id !== action.postId)}\n\n        case SAVE_PHOTO_SUCCESS:\n            return {...state, profile: {...state.profile, photos: action.photos}}\n\n        default:\n            return state\n\n    }\n}\nexport const addPostAC = (newPostText: string): AddPostActionType => ({type: ADD_POST, newPostText})\nconst setUserProfile = (profile: ProfileType): SetUserProfileActionType => ({type: SET_USER_PROFILE, profile})\nconst setStatus = (status: string): SetStatusActionType => ({type: SET_STATUS, status})\nexport const deletePostAC = (postId: number): DeletePostActionType => ({type: DELETE_POST, postId})\nexport const savePhotoSuccess = (photos: File): SavePhotoActionType => ({type: SAVE_PHOTO_SUCCESS, photos})\n\nexport const getUserProfile = (userId: string | null) => async (dispatch: DispatchType) => {\n    const response = await usersAPI.getProfile(userId)\n    dispatch(setUserProfile(response.data))\n}\nexport const getStatus = (userId: string) => async (dispatch: DispatchType) => {\n    const response = await profileAPI.getStatus(userId)\n    dispatch(setStatus(response.data))\n}\nexport const updateStatus = (status: string) => async (dispatch: DispatchType) => {\n    const response = await profileAPI.updateStatus(status)\n    if (response.data.resultCode === 0) {\n        dispatch(setStatus(status))\n    }\n}\nexport const savePhoto = (file: File) => async (dispatch: DispatchType) => {\n    const response = await profileAPI.savePhoto(file)\n    if (response.data.resultCode === 0) {\n        dispatch(savePhotoSuccess(response.data.data.photos))\n    }\n}\nexport const saveProfile = (profile: ProfileType): ThunkType =>\n    async (dispatch, getState) => {\n\n        const userId = getState().auth.userId\n        const response = await profileAPI.saveProfile(profile)\n        if (response.data.resultCode === 0) {\n            if(userId!==null) {\n                dispatch(getUserProfile(userId))\n            } else {\n                throw new Error(\"userId can't be null\")\n            }\n        } else {\n            dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))\n            return Promise.reject(response.data.messages[0])\n        }\n    }\nexport default profileReducer"],"sourceRoot":""}