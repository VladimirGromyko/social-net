{"version":3,"sources":["Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Profile/MyPosts/Post/Post.module.css","Components/Navbar/Navbar.module.css","Components/Dialogs/Dialogs.module.css","api/api.ts","redux/profile-reducer.ts","redux/dialogs-reducer.ts","redux/sidebar-reducer.ts","redux/users-reducer.ts","redux/auth-reducer.ts","redux/app-reducer.ts","redux/redux-store.ts","Components/Navbar/Navbar.tsx","Components/News/News.tsx","Components/Music/Music.tsx","Components/Settings/Settings.tsx","Components/Dialogs/DialogItem/DialogItem.tsx","Components/Dialogs/Message/Message.tsx","Components/common/FormsControls/FormsControls.tsx","utils/validators/validators.ts","Components/Dialogs/AddMessageForm/AddMessageForm.tsx","Components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","Components/Dialogs/DialogsContainer.tsx","assets/images/user.png","Components/Users/Users.tsx","assets/images/1495 (1).gif","Components/common/Preloader/Preloader.tsx","redux/users-selectors.ts","Components/Users/UsersContainer.tsx","Components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","Components/Profile/ProfileInfo/ProfileInfo.tsx","Components/Profile/MyPosts/Post/Post.tsx","Components/Profile/MyPosts/MyPosts.tsx","Components/Profile/MyPosts/MyPostContainer.tsx","Components/Profile/Profile.tsx","Components/Profile/ProfileContainer.tsx","Components/Header/header.tsx","Components/Header/headerContainer.tsx","Components/Login/Login.tsx","App.tsx","index.tsx","Components/common/FormsControls/FormsControls.module.css","Components/Users/users.module.css","Components/Profile/MyPosts/MyPosts.module.css","Components/Header/header.module.css"],"names":["module","exports","instance","axios","create","withCredentials","baseURL","headers","usersAPI","currentPage","pageSize","get","then","response","data","userId","post","delete","console","warn","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","email","password","rememberMe","ADD_POST","SET_USER_PROFILE","SET_STATUS","initialState","posts","id","message","likesCount","profile","setStatus","type","profileReducer","state","action","newPost","newPostText","SEND_MESSAGE","dialogs","name","messages","dialogsReducer","body","newMessageBody","sidebarReducer","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","toggleIsFetching","toggleFollowingProgress","isFetchingForFollowing","usersReducer","map","u","followed","count","filter","SET_USER_DATA","login","isAuth","setAuthUsersData","payload","getAuthUsersData","dispatch","resultCode","authReducer","INITIALIZED_SUCCESS","initialized","appReducer","rootReducer","combineReducers","profilePage","dialogsPage","sidebar","usersPage","auth","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","window","Navbar","className","s","nav","item","to","activeClassName","activeLink","active","News","Music","Settings","DialogItem","props","path","dialog","Message","FormControl","meta","touched","error","children","hasError","style","formControl","Textarea","input","restProps","Input","required","value","maxLengthCreator","maxLength","length","reduxForm","onSubmit","handleSubmit","Field","component","placeholder","validate","Dialogs","dialogsElements","d","messagesElements","m","dialogsItems","values","sendMessage","mapStateToPropsForRedirect","compose","connect","sendMessageAC","Component","Users","pagesCount","Math","ceil","pages","i","push","p","styles","selectedPage","unselectedPage","onClick","onPageChanged","src","photos","small","userPhoto","disabled","some","unfollow","follow","Preloader","backgroundColor","preloader","getUsers","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","this","React","followSuccess","unfollowSuccess","page","items","totalCount","ProfileStatusWithHooks","useState","editMode","setEditMode","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","ProfileInfo","discriptionBlock","large","Post","AddNewPostReduxForm","MyPosts","PostsElements","postsBlock","addPost","MyPostsContainer","addPostAC","Profile","ProfileContainer","match","params","authorizedUserId","history","getUserProfile","withRouter","Header","header","alt","loginBlock","logout","HeaderContainer","LoginReduxForm","formSummaryError","stopSubmit","_error","formData","App","initializeApp","render","DialogsContainer","promise","Promise","all","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.cb0993d0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileInfo_content__2q0GZ\",\"discriptionBlock\":\"ProfileInfo_discriptionBlock__14Cp7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__17Zex\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1fB6F\",\"item\":\"Navbar_item__Djm--\",\"activeLink\":\"Navbar_activeLink__2QY_b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3Cht7\",\"dialogsItems\":\"Dialogs_dialogsItems__3Vmz4\",\"active\":\"Dialogs_active__3GB6a\",\"messages\":\"Dialogs_messages__1IUR8\",\"message\":\"Dialogs_message__1emO6\"};","import axios from \"axios\";\r\nimport {UsersObjectType} from \"../Components/Users/UsersContainer\";\r\n\r\ntype getUsersResponseType = {\r\n    items: Array<UsersObjectType>,\r\n    totalCount: number,\r\n    error: string | null\r\n}\r\nexport type StatusType = {\r\n    status: string\r\n}\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {'API-KEY': '08f8988c-36d5-478a-8bca-6bc3626a17f4'}\r\n})\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 30) {\r\n        return instance.get<getUsersResponseType>(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId: string | null) {\r\n        console.warn(\"Obsolete method. Please use profileAPI object\")\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId: string | null) {\r\n        return instance.get(`profile/`+ userId)\r\n    },\r\n    getStatus(userId: string | null) {\r\n        return instance.get(`profile/status/`+ userId)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status/`, {status: status})\r\n    }\r\n}\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email:string, password:string, rememberMe:boolean = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}","import {ActionsTypes, ProfileType, SetStatusActionType} from \"./store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {profileAPI, usersAPI} from \"../api/api\";\r\n\r\ntype AddPostActionType = {\r\n    type: \"ADD-POST\"\r\n    newPostText: string\r\n}\r\ntype UpdateNewPostTextActionType = {\r\n    type: \"UPDATE-NEW-POST-TEXT\",\r\n    newText: string\r\n}\r\ntype SetUserProfileActionType = {\r\n    type: \"SET-USER-PROFILE\",\r\n    profile: ProfileType\r\n}\r\ntype postsType = {\r\n    id: number,\r\n    message: string,\r\n    likesCount: number\r\n}\r\nexport type ProfilePageType = {\r\n    posts: Array<postsType>\r\n//    newPostText: string\r\n    profile: ProfileType\r\n    status: string\r\n}\r\ntype DispatchType = Dispatch<ActionsTypes>\r\n\r\n// export type SetStatusActionType = {\r\n//     type: \"SET_STATUS\",\r\n//     status: string\r\n// }\r\n\r\nconst ADD_POST = \"ADD-POST\"\r\n//const UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\"\r\nconst SET_USER_PROFILE = \"SET-USER-PROFILE\"\r\nconst SET_STATUS = \"SET_STATUS\"\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hi, how are you?\", likesCount: 2},\r\n        {id: 2, message: \"Hi, what are you doing?\", likesCount: 5},\r\n        {id: 3, message: \"It's my first post.\", likesCount: 4},\r\n    ],\r\n//    newPostText: '',\r\n    profile: {\r\n        \"aboutMe\": \"\",\r\n        \"contacts\": {\r\n            \"facebook\": \"\",\r\n            \"website\": null,\r\n            \"vk\": \"\",\r\n            \"twitter\": \"\",\r\n            \"instagram\": \"\",\r\n            \"youtube\": null,\r\n            \"github\": \"\",\r\n            \"mainLink\": null\r\n        },\r\n        \"lookingForAJob\": false,\r\n        \"lookingForAJobDescription\": \"\",\r\n        \"fullName\": \"\",\r\n        \"userId\": \"2\",\r\n        \"photos\": {\r\n            \"small\": \"\",\r\n            \"large\": \"\"\r\n        }\r\n    },\r\n    status: \"\"\r\n}\r\n\r\nconst profileReducer = (state: ProfilePageType = initialState, action: ActionsTypes) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            const newPost: postsType = {\r\n                id: 4,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                //newPostText: \"\"\r\n            }\r\n        }\r\n        // case UPDATE_NEW_POST_TEXT: {\r\n        //     return {\r\n        //         ...state,\r\n        //         newPostText: action.newText\r\n        //     }\r\n        // }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\nexport const addPostAC = (newPostText: string): AddPostActionType => ({type: ADD_POST, newPostText})\r\nconst setUserProfile = (profile:ProfileType): SetUserProfileActionType => ({type: SET_USER_PROFILE, profile})\r\nconst setStatus = (status:string): SetStatusActionType => ({type: SET_STATUS, status})\r\n\r\n\r\nexport const getUserProfile = (userId: string) => (dispatch:DispatchType) => {\r\n    usersAPI.getProfile(userId)\r\n        .then(response => {\r\n            dispatch(setUserProfile(response.data))\r\n})\r\n}\r\n\r\nexport const getStatus = (userId: string) => (dispatch:DispatchType) => {\r\n    profileAPI.getStatus(userId)\r\n        .then(response => {\r\n            dispatch(setStatus(response.data))\r\n        })\r\n}\r\nexport const updateStatus = (status: string) => (dispatch:DispatchType) => {\r\n    profileAPI.updateStatus(status)\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setStatus(status))\r\n            }\r\n\r\n        })\r\n}\r\n\r\n// export const updateNewPostTextAC = (text: string): UpdateNewPostTextActionType =>\r\n//     ({type: UPDATE_NEW_POST_TEXT, newText: text})\r\n\r\nexport default profileReducer","import {ActionsTypes, DialogsPageType} from \"./store\";\r\n\r\n// type UpdateNewMessageBodyType = {\r\n//     type: \"UPDATE-NEW-MESSAGE-BODY\",\r\n//     body: string\r\n// }\r\ntype SendMessageType = {\r\n    type: \"SEND-MESSAGE\"\r\n    newMessageBody: string\r\n}\r\n\r\n// const UPDATE_NEW_MESSAGE_BODY = \"UPDATE-NEW-MESSAGE-BODY\"\r\nconst SEND_MESSAGE = \"SEND-MESSAGE\"\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: \"1\", name: \"Vova\"},\r\n        {id: \"2\", name: \"July\"},\r\n        {id: \"3\", name: \"Sasha\"},\r\n        {id: \"4\", name: \"Pasha\"}\r\n    ],\r\n    messages: [\r\n        {id: \"1\", message: \"Hi\"},\r\n        {id: \"2\", message: \"How are you?\"},\r\n        {id: \"3\", message: \"Yo\"},\r\n    ]\r\n}\r\nconst dialogsReducer = (state: DialogsPageType = initialState, action: ActionsTypes) => {\r\n\r\n    switch (action.type) {\r\n        // case UPDATE_NEW_MESSAGE_BODY: {\r\n        //     return {\r\n        //         ...state,\r\n        //         newMessageBody: action.body\r\n        //     }\r\n        // }\r\n        case SEND_MESSAGE: {\r\n            let body: string = action.newMessageBody\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: \"4\", message: body}]\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageAC = (newMessageBody: string): SendMessageType => ({type: SEND_MESSAGE, newMessageBody})\r\n// export const updateNewMessageBodyAC = (body: string): UpdateNewMessageBodyType =>\r\n//     ({type: UPDATE_NEW_MESSAGE_BODY, body: body})\r\nexport default dialogsReducer","import {ActionsTypes, SidebarType} from \"./store\";\r\n\r\nlet initialState = {}\r\n\r\nexport const sidebarReducer = (state: SidebarType = initialState, action: ActionsTypes) => {\r\n\r\n    return state\r\n}\r\nexport default sidebarReducer","import {ActionsTypes} from \"./store\";\r\nimport {UsersObjectType} from \"../Components/Users/UsersContainer\";\r\nimport {usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\ntype FollowType = {\r\n    type: \"FOLLOW\",\r\n    userId: number\r\n}\r\ntype UnfollowType = {\r\n    type: \"UNFOLLOW\",\r\n    userId: number\r\n}\r\n\r\n\r\ntype SetUsersType = {\r\n    type: \"SET_USERS\",\r\n    users: Array<UsersObjectType>\r\n}\r\ntype SetCurrentPageType = {\r\n    type: \"SET_CURRENT_PAGE\",\r\n    currentPage: number\r\n}\r\ntype SetTotalUsersCountType = {\r\n    type: \"SET_TOTAL_USERS_COUNT\",\r\n    count: number\r\n}\r\ntype ToggleIsFetchingType = {\r\n    type: \"TOGGLE_IS_FETCHING\",\r\n    isFetching: boolean\r\n}\r\ntype ToggleIsFollowingInProgressType = {\r\n    type: \"TOGGLE_IS_FOLLOWING_PROGRESS\",\r\n    isFetchingForFollowing: boolean,\r\n    userId: number\r\n}\r\nexport type UsersType = {\r\n    users: Array<UsersObjectType>,\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    followingInProgress: Array<number>\r\n}\r\n\r\n\r\nconst FOLLOW = \"FOLLOW\"\r\nconst UNFOLLOW = \"UNFOLLOW\"\r\nconst SET_USERS = \"SET_USERS\"\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\"\r\n\r\n\r\nlet initialState = {\r\n    users: [\r\n        // {\r\n        //     id: 1, photoUrl: \"https://www.vokrug.tv/pic/person/6/e/0/2/6e02e4d5202366442710552912e7a10f.jpg\",\r\n        //     followed: false, fullName: \"Vladimir\", status: 'I am subscribed to life',\r\n        //     location: {city: 'Minsk', country: 'Belarus'}\r\n        // },\r\n        // {\r\n        //     id: 2, photoUrl: \"https://avatars.mds.yandex.net/get-kinopoisk-image/1777765/43ad37ff-34c4-4ebc-9f0a-2f2eaa41a18d/280x420\",\r\n        //     followed: true, fullName: \"Donald\", status: 'I am my own director',\r\n        //     location: {city: 'New York', country: 'USA'}\r\n        // },\r\n        // {\r\n        //     id: 3, photoUrl: \"https://upload.wikimedia.org/wikipedia/commons/8/88/Dmitry_Nagiev_2017_4.jpg?uselang=ru\",\r\n        //     followed: false, fullName: \"Dmitriy\", status: 'My ship is on the waves',\r\n        //     location: {city: 'Moscow', country: 'Russia'}\r\n        // },\r\n    ],\r\n    pageSize: 15,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state: UsersType = initialState, action: ActionsTypes) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n            //return { ...state, users: [...state.users, ...action.users]}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress:\r\n                    action.isFetchingForFollowing\r\n                        ? [...state.followingInProgress, action.userId]\r\n                        : state.followingInProgress.filter(id => id !== action.userId),\r\n                //userId: action.userId\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const followSuccess = (userId: number): FollowType => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId: number): UnfollowType => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users: Array<UsersObjectType>): SetUsersType => ({type: SET_USERS, users: users})\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageType => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalUsersCountType => ({\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    count: totalUsersCount\r\n})\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingType => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetchingForFollowing: boolean, userId: number): ToggleIsFollowingInProgressType => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetchingForFollowing,\r\n    userId\r\n})\r\ntype DispatchType = Dispatch<ActionsTypes>\r\nexport const requestUsers = (page: number, pageSize: number) => {\r\n    return (dispatch:DispatchType) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n        usersAPI.getUsers(page, pageSize)\r\n            .then(data => {\r\n                dispatch(toggleIsFetching(false))\r\n                dispatch(setUsers(data.items))\r\n                dispatch(setTotalUsersCount(data.totalCount))\r\n\r\n            })\r\n    }\r\n}\r\nexport const follow = (userId: number) => {\r\n    return (dispatch: DispatchType) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        usersAPI.follow(userId)\r\n            .then(response => {\r\n\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(followSuccess(userId))\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId))\r\n            })\r\n    }\r\n}\r\nexport const unfollow = (userId: number) => {\r\n    return (dispatch: DispatchType) => {\r\n\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        usersAPI.unfollow(userId)\r\n            .then(response => {\r\n\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(unfollowSuccess(userId))\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId))\r\n            })\r\n    }\r\n}\r\n\r\nexport default usersReducer","import {ActionsTypes, SetUserDataActionType} from \"./store\";\r\nimport {authAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStoreType} from \"./redux-store\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {FormAction} from \"redux-form/lib/actions\";\r\n\r\n\r\n\r\nexport type UserDataType = {\r\n    userId: string | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean\r\n    //isFetching: boolean\r\n}\r\n\r\ntype ThunkType = ThunkAction<void, AppStoreType, unknown, ActionsTypes | FormAction>\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\"\r\n\r\nlet initialState: UserDataType = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n    //isFetching: false\r\n}\r\n\r\nconst authReducer = (state: UserDataType = initialState, action: ActionsTypes): UserDataType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                // isAuth: true\r\n            }\r\n        }\r\n\r\n        // case TOGGLE_IS_FETCHING: {\r\n        //     return { ...state, isFetching: action.isFetching}\r\n        // }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//export const setUsersData = (userId: number | null, email: string | null, login: string | null, isFetching: boolean): SetUserDataActionType => (\r\nexport const setAuthUsersData = (userId: string | null, email: string | null, login: string | null, isAuth: boolean):\r\n    SetUserDataActionType => ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}})  //, isFetching\r\n//export const setAuthUsersData = (data:UserDataType):\r\n//SetUserDataActionType => ({type: SET_USER_DATA, data})  //, isFetching\r\n//export const toggleIsFetching = (isFetching:boolean): ToggleIsFetchingType => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const getAuthUsersData = (): ThunkType => (dispatch) => {\r\n    return authAPI.me()\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                let {id, email, login} = response.data.data\r\n                dispatch(setAuthUsersData(id, email, login, true))\r\n            }\r\n        })\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean): ThunkType =>\r\n    (dispatch) => {\r\n        authAPI.login(email, password, rememberMe)\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(getAuthUsersData())\r\n                } else {\r\n                    let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n                    dispatch(stopSubmit('login', {_error: message}))\r\n                }\r\n            })\r\n    };\r\n\r\nexport const logout = (): ThunkType => (dispatch) => {\r\n    authAPI.logout()\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUsersData(null, null, null, false))\r\n            }\r\n        })\r\n}\r\n\r\nexport default authReducer\r\n","import {ActionsTypes, InitializedSuccessActionType} from \"./store\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStoreType} from \"./redux-store\";\r\nimport {FormAction} from \"redux-form/lib/actions\";\r\nimport {getAuthUsersData} from \"./auth-reducer\";\r\n\r\ntype AppDataType = {\r\n    initialized: boolean\r\n}\r\ntype ThunkType = ThunkAction<void, AppStoreType, unknown, ActionsTypes | FormAction>\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\"\r\n\r\nlet initialState: AppDataType = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state: AppDataType = initialState, action: ActionsTypes): AppDataType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = ():\r\n    InitializedSuccessActionType => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = (): ThunkType => (dispatch) => {\r\n    let promise= dispatch(getAuthUsersData())\r\n    Promise.all([promise]).then(() =>{\r\n        dispatch(initializedSuccess())\r\n    })\r\n}\r\n\r\nexport default appReducer\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\ntype RootReducersType = typeof rootReducer\r\nexport type AppStoreType = ReturnType<RootReducersType>\r\n\r\n// let store:StoreType = createStore(reducers)\r\nlet store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\n// @ts-ignore\r\nwindow.store = store\r\n\r\nexport default store","import React from 'react';\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                {/* eslint-disable-next-line react/jsx-no-undef */}\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nexport default Navbar;","import React from \"react\";\r\nimport s from './News.module.css'\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\nexport default News","import React from \"react\";\r\nimport s from './Music.module.css'\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\nexport default Music","import React from \"react\";\r\nimport s from './Settings.module.css'\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\nexport default Settings","import React from \"react\";\r\nimport {NavLink} from 'react-router-dom'\r\nimport s from './../Dialogs.module.css'\r\n\r\n\r\ntype DialogItemType = {\r\n    name: string\r\n    id: string\r\n}\r\nconst DialogItem = (props: DialogItemType) => {\r\n    let path = \"/dialogs/\" + props.id\r\n    return (\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem","import React from \"react\";\r\nimport s from './../Dialogs.module.css'\r\n\r\n\r\ntype MessageType = {\r\n    message: string\r\n}\r\nconst Message = (props: MessageType) => {\r\n    return <div className={s.message}>{props.message}</div>\r\n\r\n}\r\nexport default Message","import React from \"react\";\r\nimport style from './FormsControls.module.css'\r\nimport {WrappedFieldMetaProps, WrappedFieldProps} from \"redux-form/lib/Field\";\r\n\r\ntype FormsControlsPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\nexport const FormControl:\r\n    React.FC<FormsControlsPropsType> = ({\r\n                                            meta: {\r\n                                                touched,\r\n                                                error\r\n                                            },\r\n                                            children\r\n                                        }) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n            <div>\r\n                {children}\r\n                {/*                <textarea {...input} {...props}/>*/}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\n","export type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const required:FieldValidatorType = (value) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (value) => {\r\n    if (value.length>maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\n\r\n\r\nexport type AddMessageType = {\r\n    newMessageBody: string\r\n}\r\nconst maxLength = maxLengthCreator(50)\r\n\r\nconst AddMessageForm: React.FC<InjectedFormProps<AddMessageType>>  = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} name={'newMessageBody'} placeholder=\"Enter you message\"\r\n                       validate={[required, maxLength]}/>\r\n            </div>\r\n            <div>\r\n                <button>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nexport default reduxForm<AddMessageType>({form: 'AddMessageForm'})(AddMessageForm)","import React, {ChangeEvent} from \"react\";\r\nimport s from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {DialogsPageType} from \"../../redux/store\";\r\nimport AddMessageForm, {AddMessageType} from \"./AddMessageForm/AddMessageForm\";\r\n\r\n\r\nexport type DialogsAndMessagesType = {\r\n    dialogsPage: DialogsPageType\r\n    updateNewMessageBody: (body: string) => void\r\n    sendMessage: (newMessageBody: string) => void\r\n    isAuth: boolean\r\n}\r\n\r\nconst Dialogs: React.FC<DialogsAndMessagesType> = (props) => {\r\n\r\n    let state = props.dialogsPage\r\n    let dialogsElements = state.dialogs\r\n        .map(d => <DialogItem name={d.name} key={d.id} id={d.id}/>)\r\n\r\n    let messagesElements = state.messages\r\n        .map(m => <Message message={m.message} key={m.id}/>)\r\n\r\n    // let newMessageBodyElements = state.newMessageBody\r\n\r\n    const addNewMessage = (values: AddMessageType) => {\r\n        props.sendMessage(values.newMessageBody)\r\n    }\r\n    //if (!props.isAuth) return <Redirect to= '/login' />\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messagesElements}\r\n            </div>\r\n            <AddMessageForm onSubmit={addNewMessage}/>\r\n        </div>\r\n    )\r\n}\r\nexport default Dialogs","import React, { ComponentType } from 'react'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStoreType} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\nconst mapStateToPropsForRedirect = (state: AppStoreType):MapStateToPropsType => {\r\n     return {\r\n         isAuth: state.auth.isAuth\r\n     }\r\n}\r\nexport function withAuthRedirect <T>(Component: ComponentType<T>)  {\r\n\r\n    const RedirectComponent = (props: MapStateToPropsType) => {\r\n        let {isAuth, ...restProps} = props\r\n        if (!isAuth) return <Redirect to='/login'/>\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n\r\n","import React from \"react\";\r\nimport {ActionsTypes, RootStateType, SendMessageType, SubscribeType} from \"../../redux/store\";\r\nimport {sendMessageAC} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs, {DialogsAndMessagesType} from \"./Dialogs\";\r\nimport { connect } from \"react-redux\";\r\nimport {UserDataType} from \"../../redux/auth-reducer\";\r\nimport {AppStoreType} from \"../../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\ntype StoreType = {\r\n    _state: RootStateType\r\n    _callSubscriber: () => void\r\n    getState: () => RootStateType\r\n    subscribe: SubscribeType\r\n    dispatch: (action: ActionsTypes) => void\r\n}\r\ntype StoreOfType = {\r\n    store: StoreType\r\n}\r\n\r\n// const DialogsContainer: React.FC<StoreOfType> = (props) => {\r\n//\r\n//     let state = props.store.getState().dialogsPage\r\n//     let onSendMessageClick = () => {\r\n//         props.store.dispatch(sendMessageAC())\r\n//     }\r\n//     let onNewMessageChange = (body:string) => {\r\n//         let action = updateNewMessageBodyAC(body)\r\n//         props.store.dispatch(action)\r\n//     }\r\n//     return (\r\n//        <Dialogs updateNewMessageBody ={onNewMessageChange}\r\n//                 sendMessage = {onSendMessageClick}\r\n//                 dialogsPage = {state} />\r\n//     )\r\n// }\r\n\r\nlet mapStateToProps =(state: AppStoreType) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n        //isAuth: state.auth.isAuth\r\n    }\r\n}\r\nlet mapDispatchToProps =(dispatch: (action: ActionsTypes) => void) => {\r\n    return {\r\n        // updateNewMessageBody: (body:string) => {\r\n        //     let action = updateNewMessageBodyAC(body)\r\n        //     dispatch(action)\r\n        //\r\n        // },\r\n        sendMessage: (newMessageBody: string)=> {\r\n            dispatch(sendMessageAC(newMessageBody))\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// let AuthRedirectComponent = withAuthRedirect(Dialogs)\r\n// // let AuthRedirectComponent = (props: DialogsAndMessagesType) => {\r\n// //     if (!props.isAuth) return <Redirect to= '/login' />\r\n// //     return <Dialogs { ... props}/>\r\n// // }\r\n//\r\n// const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent)\r\n//\r\n// export default DialogsContainer\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs)","export default __webpack_public_path__ + \"static/media/user.de73c074.png\";","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {UsersObjectType} from \"./UsersContainer\";\r\n\r\n\r\nexport type UsersPropsType = {\r\n    totalUsersCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    onPageChanged: (pageNumber: number) => void\r\n    users: Array<UsersObjectType>,\r\n    follow: (userId: number) => void,\r\n    unfollow: (userId: number) => void\r\n    //toggleFollowingProgress: (isFetchingForFollowing: boolean, userId: number) => void\r\n    followingInProgress : Array<number>\r\n}\r\n\r\nlet Users = (props: UsersPropsType) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    return <div>\r\n        <div>\r\n            {pages.map(p => {\r\n                return <span className={props.currentPage === p\r\n                    ? styles.selectedPage : styles.unselectedPage}\r\n                             onClick={() => {\r\n                                 props.onPageChanged(p)\r\n                             }}> {p}</span>\r\n            })}\r\n\r\n        </div>\r\n        {props.users.map((u) => <div key={u.id}>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + u.id}>\r\n                        <img src={u.photos.small != null ? u.photos.small : userPhoto} className={styles.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {u.followed\r\n                            ? <button disabled={props.followingInProgress.some(id => id===u.id)} onClick={() => {\r\n                                props.unfollow(u.id)\r\n                                // props.toggleFollowingProgress(true, u.id)\r\n                                // usersAPI.unfollow(u.id)\r\n                                // // axios.delete(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`,\r\n                                // //     {\r\n                                // //         withCredentials: true,\r\n                                // //         headers: {'API-KEY': '1014996e-e720-41c1-aa67-e79020cddaa0'}\r\n                                // //     })\r\n                                //     .then(response => {\r\n                                //         if (response.data.resultCode === 0) {\r\n                                //             props.unfollow(u.id)\r\n                                //         }\r\n                                //         props.toggleFollowingProgress(false, u.id)\r\n                                //     })\r\n                            }}>Unfollow</button>\r\n                            : <button disabled={props.followingInProgress.some(id => id===u.id)} onClick={() => {\r\n                                props.follow(u.id)\r\n                                // props.toggleFollowingProgress(true, u.id)\r\n                                // usersAPI.follow(u.id)\r\n                                // // axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`,\r\n                                // //     {}, {\r\n                                // //         withCredentials: true,\r\n                                // //         headers: {'API-KEY': '1014996e-e720-41c1-aa67-e79020cddaa0'}\r\n                                // //     })\r\n                                //     .then(response => {\r\n                                //         if (response.data.resultCode === 0) {\r\n                                //             props.follow(u.id)\r\n                                //         }\r\n                                //         props.toggleFollowingProgress(false, u.id)\r\n                                //     })\r\n                            }}>Follow</button>\r\n                        }\r\n\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{u.name}</div>\r\n                        <div>{u.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{'u.location.country'}</div>\r\n                        <div>{'u.location.city'}</div>\r\n                    </span>\r\n                </span>\r\n            </div>\r\n        )}\r\n    </div>\r\n\r\n}\r\nexport default Users","export default __webpack_public_path__ + \"static/media/1495 (1).5afb2e9e.gif\";","import preloader from \"../../../assets/images/1495 (1).gif\";\r\n\r\nlet Preloader = () => {\r\n    return <div style={{backgroundColor: 'white'}}>\r\n        <img src={preloader}/>\r\n    </div>\r\n}\r\nexport default Preloader","import {RootStateType} from \"./store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelectors =(state:RootStateType) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getUsers = createSelector(getUsersSelectors,(users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize =(state:RootStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount =(state:RootStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage =(state:RootStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching =(state:RootStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress =(state:RootStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootStateType} from \"../../redux/store\";\r\nimport {\r\n    follow, requestUsers,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {\r\n    getUsers,\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\ntype locationType = {\r\n    city: string,\r\n    country: string\r\n}\r\ntype photosType = {\r\n    small: string,\r\n    large: string\r\n}\r\nexport type UsersObjectType = {\r\n    id: number,\r\n    photos: photosType,\r\n    // photoUrl: string,\r\n    followed: boolean,\r\n    name: string,\r\n    //fullName: string,\r\n    status: string,\r\n    location: locationType\r\n}\r\n\r\ntype UsersContainerPropsType = {\r\n    users: Array<UsersObjectType>,\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    follow: (userId: number) => void,\r\n    unfollow: (userId: number) => void,\r\n    //setUsers: (users: Array<UsersObjectType>) => void,\r\n    //setCurrentPage: (pageNumber: number) => void,\r\n    //setTotalUsersCount: (totalUsersCount: number) => void,\r\n    //toggleIsFetching: (isFetching: boolean) => void,\r\n    toggleFollowingProgress: (isFetchingForFollowing: boolean, userId: number) => void,\r\n    followingInProgress: Array<number>\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nclass UsersContainer extends React.Component<UsersContainerPropsType> {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n        // this.props.toggleIsFetching(true)\r\n        //     usersAPI.getUsers(this.props.currentPage, this.props.pageSize)\r\n        //     .then(data => {\r\n        //         this.props.toggleIsFetching(false)\r\n        //         this.props.setUsers(data.items)\r\n        //         this.props.setTotalUsersCount(data.totalCount)\r\n        //\r\n        //     })\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n        // this.props.setCurrentPage(pageNumber)\r\n        // this.props.toggleIsFetching(true)\r\n        //     usersAPI.getUsers(pageNumber, this.props.pageSize)\r\n        //     .then(data => {\r\n        //         this.props.toggleIsFetching(false)\r\n        //         this.props.setUsers(data.items)\r\n        //     })\r\n    }\r\n\r\n    render() {\r\n        let pagesCount = Math.ceil(this.props.totalUsersCount / this.props.pageSize)\r\n        let pages = []\r\n        for (let i = 1; i <= pagesCount; i++) {\r\n            pages.push(i)\r\n        }\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: RootStateType) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n// let mapDispatchToProps = (dispatch: (action: ActionsTypes) => void) => {\r\n//     return {\r\n//         follow: (userId: number) => {\r\n//             dispatch(followAC(userId))\r\n//         },\r\n//         unfollow: (userId: number) => {\r\n//             dispatch(unfollowAC(userId))\r\n//         },\r\n//         setUsers: (users: Array<UsersObjectType>) => {\r\n//             dispatch(setUsersAC(users))\r\n//         },\r\n//         setCurrentPage: (pageNamber: number) => {\r\n//             dispatch(setCurrentPageAC(pageNamber))\r\n//         },\r\n//         setTotalUsersCount: (totalCount: number) => {\r\n//             dispatch(setTotalUsersCountAC(totalCount))\r\n//         },\r\n//         toggleIsFetching: (isFetching: boolean) => {\r\n//             dispatch(toggleIsFetchingAC(isFetching))\r\n//         }\r\n//     }\r\n// }\r\n\r\n// export default connect(mapStateToProps,\r\n//     {\r\n//         follow, unfollow,\r\n//         //setUsers, setCurrentPage,\r\n//         //setTotalUsersCount, toggleIsFetching,\r\n//         toggleFollowingProgress, getUsers\r\n//     })(UsersContainer)\r\n\r\n//export default connect(mapStateToProps,mapDispatchToProps)(UsersContainer)\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {follow, unfollow, toggleFollowingProgress, getUsers: requestUsers}),\r\n    //withAuthRedirect\r\n)(UsersContainer)","import React, {ChangeEvent, useState,} from 'react';\r\nimport s from './ProfileInfo.module.css'\r\n\r\ntype ProfileStatusType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nconst ProfileStatusWithHooks = (props: ProfileStatusType) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deActivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || \"---\"}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} autoFocus={true} onBlur={deActivateEditMode} value={status}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from './ProfileInfo.module.css'\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport {ProfileType} from \"../../../redux/store\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\n\r\n\r\ntype ProfileInfoType = {\r\n    profile: ProfileType\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n\r\n}\r\n\r\nconst ProfileInfo = (props: ProfileInfoType) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div>\r\n            {/*<div className={s.content}>\r\n                <img\r\n                    src=\"https://helpx.adobe.com/content/dam/help/en/photoshop/using/convert-color-image-black-white/jcr_content/main-pars/before_and_after/image-before/Landscape-Color.jpg\"\r\n                    alt=\"\"/>\r\n            </div>*/}\r\n            <div className={s.discriptionBlock}>\r\n                <img src={props.profile.photos.large}/>\r\n                <ProfileStatusWithHooks status ={props.status} updateStatus={props.updateStatus}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\ntype messageType = {\r\n    message: string,\r\n    likesCount: number\r\n}\r\nconst Post = (props: messageType) => {\r\n\r\n    return (\r\n        <div className={s.item}>\r\n            <img src='https://cspromogame.ru//storage/upload_images/avatars/3863.jpg'/>\r\n            {props.message}\r\n            <div>\r\n                <span>Like </span>{props.likesCount}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Post;","import React, {ChangeEvent} from 'react';\r\nimport s from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from '../../../utils/validators/validators';\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\nexport type postsType = {\r\n    id: number,\r\n    message: string,\r\n    likesCount: number\r\n}\r\ntype MyPostsType = {\r\n\r\n    posts: Array<postsType>\r\n    //newPostText: string\r\n    //updateNewPostText: (newText: string) => void\r\n    addPost: (newPostBody: string) => void\r\n}\r\n\r\ntype AddPostType = {\r\n    newPostText: string\r\n}\r\nconst maxLength = maxLengthCreator(10)\r\nconst AddNewPostForm:React.FC<InjectedFormProps<AddPostType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} name={'newPostText'} placeholder=\"Enter you post\"\r\n                       validate={[required, maxLength]}/>\r\n\r\n            </div>\r\n            <div>\r\n                <button>Add Post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nconst AddNewPostReduxForm = reduxForm<AddPostType>({\r\n    form: 'ProfileAddNewPostForm'\r\n})(AddNewPostForm)\r\n\r\nconst MyPosts: React.FC<MyPostsType> = (props) => {\r\n\r\n    let PostsElements = props.posts.map(p => <Post key={p.id} message={p.message} likesCount={p.likesCount}/>)\r\n\r\n    //let onAddPost = () => props.addPost()\r\n\r\n    // let onPostChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n    //     let text = e.currentTarget.value\r\n    //     props.updateNewPostText(text)\r\n    // }\r\n    const onAddPost = (values: AddPostType) => {\r\n        props.addPost(values.newPostText)\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>New posts</h3>\r\n            <AddNewPostReduxForm onSubmit={onAddPost}/>\r\n            {/*\r\n            <div>\r\n                <div>\r\n                    <textarea onChange={onPostChange} value={props.newPostText}/>\r\n                </div>\r\n                <div>\r\n                    <button onClick={onAddPost}>Add Post</button>\r\n                </div>\r\n            </div>\r\n*/}\r\n            <div className={s.posts}>\r\n                <div className={s.item}>\r\n                    {PostsElements}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default MyPosts;","import React from 'react';\r\nimport {ActionsTypes, RootStateType, SubscribeType} from \"../../../redux/store\";\r\nimport {addPostAC} from '../../../redux/profile-reducer';\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n// type StoreType = {\r\n//     _state: RootStateType\r\n//     _callSubscriber: () => void\r\n//     getState: () => RootStateType\r\n//     subscribe: SubscribeType\r\n//     dispatch: (action: ActionsTypes) => void\r\n// }\r\n// type StoreOfType = {\r\n//     store: StoreType\r\n// }\r\n\r\nlet MapStateToProps = (state:RootStateType) => {\r\n    return {\r\n        posts:state.profilePage.posts,\r\n        //newPostText:state.profilePage.newPostText\r\n    }\r\n}\r\nlet MapDispatchToProps = (dispatch:(action: ActionsTypes) => void) => {\r\n    return {\r\n        // updateNewPostText: (text: string) => {\r\n        //     let action = updateNewPostTextAC(text)\r\n        //     dispatch(action)\r\n        // },\r\n        addPost: (newPostText: string) => dispatch(addPostAC(newPostText))\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(MapStateToProps, MapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport s from './Profile.module.css'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport {ActionsTypes, ProfileType, RootStateType, SubscribeType} from \"../../redux/store\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostContainer\";\r\n\r\n\r\n\r\ntype StoreType = {\r\n    _state: RootStateType\r\n    _callSubscriber: () => void\r\n    getState: () => RootStateType\r\n    subscribe: SubscribeType\r\n    dispatch: (action: ActionsTypes) => void\r\n}\r\ntype StoreOfType = {\r\n    store: StoreType\r\n}\r\ntype ProfilePropsType = {\r\n    profile: ProfileType\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\n/*const Profile = (props: StoreOfType) => {*/\r\nconst Profile = (props: ProfilePropsType) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            {/*    <MyPostsContainer store={props.store}/>*/}\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}\r\nexport default Profile;","import React from 'react';\r\nimport {ProfileType} from \"../../redux/store\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {RouteComponentProps, withRouter} from 'react-router';\r\nimport {AppStoreType} from \"../../redux/redux-store\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\n// type StoreType = {\r\n//     _state: RootStateType\r\n//     _callSubscriber: () => void\r\n//     getState: () => RootStateType\r\n//     subscribe: SubscribeType\r\n//     dispatch: (action: ActionsTypes) => void\r\n// }\r\n// type StoreOfType = {\r\n//     store: StoreType\r\n// }\r\ntype PathParamType = {\r\n    userId: string\r\n}\r\ntype MapStatePropsType = {\r\n    profile: ProfileType,\r\n    status: string,\r\n    authorizedUserId: string | null\r\n    isAuth: boolean\r\n}\r\ntype MapDispatchPropsType = {\r\n\r\n    getUserProfile: (userId: string | null) => void\r\n    getStatus: (userId: string | null) => void\r\n    updateStatus: (status: string) => void\r\n    //getUserProfile: (profile: ProfileType) => void\r\n}\r\ntype ProfileContainerPropsType = MapStatePropsType & MapDispatchPropsType\r\ntype PropsType = RouteComponentProps<PathParamType> & ProfileContainerPropsType\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n    componentDidMount() {\r\n        let userId: string | null = this.props.match.params.userId\r\n        //let userId = this.props.userId\r\n\r\n        if (!userId) {\r\n            // userId = \"1049\"\r\n            //   userId = \"17281\"\r\n            userId = this.props.authorizedUserId\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStoreType): MapStatePropsType => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n    //A: 4\r\n})\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n    withRouter,\r\n    //withAuthRedirect\r\n)(ProfileContainer)\r\n// let AuthRedirectComponent = withAuthRedirect(ProfileContainer)\r\n// // let AuthRedirectComponent = (props: PropsType) => {\r\n// //     if (!props.isAuth) return <Redirect to= '/login' />\r\n// //     return <ProfileContainer { ... props}/>\r\n// // }\r\n//\r\n//\r\n// let WithUrlDataContainerComponent = withRouter(AuthRedirectComponent)\r\n//\r\n// export default connect(mapStateToProps, {getUserProfile})(WithUrlDataContainerComponent)","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './header.module.css';\r\nimport {ActionsTypes, SetUserDataActionType} from \"../../redux/store\";\r\nimport { HeaderContainerPropsType } from './headerContainer';\r\n\r\n//type HeaderContainerPropsType = any\r\n\r\n//     {\r\n//     isAuth: boolean\r\n//     login: null | string\r\n//     setAuthUsersData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => void\r\n// }\r\n\r\nconst Header = (props: HeaderContainerPropsType) => {\r\n    return (\r\n        <header className={s.header}>\r\n            {/*<img src=\"logo_color.jpg\" alt=\"\"/>*/}\r\n            <img\r\n                src=\"data:image/png;base64,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\"\r\n                alt=\"\"/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div> {props.login} - <button onClick={props.logout}>Log Out</button> </div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\nimport {AppStoreType} from \"../../redux/redux-store\";\r\n\r\n\r\n\r\ntype MapStatePropsType = {\r\n    login: string | null\r\n    isAuth: boolean,\r\n}\r\n\r\nexport type HeaderContainerPropsType = {\r\n    login: string | null\r\n    logout: () => void\r\n    isAuth: boolean,\r\n    //setAuthUsersData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => void\r\n    //getAuthUsersData: () => void\r\n}\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerPropsType> {\r\n    // componentDidMount() {\r\n    //     this.props.getAuthUsersData()\r\n        // authAPI.me()\r\n        // // axios.get(`https://social-network.samuraijs.com/api/1.0/auth/me`,\r\n        // //     {withCredentials: true})\r\n        //     .then(response => {\r\n        //         if (response.data.resultCode === 0) {\r\n        //             let {id, email, login} = response.data.data\r\n        //             this.props.setAuthUsersData(id, email, login, true)\r\n        //         }\r\n        //     })\r\n    // }\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props} />)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStoreType): MapStatePropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, UserDataType} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStoreType} from \"../../redux/redux-store\";\r\nimport style from './../common/FormsControls/FormsControls.module.css'\r\n\r\ntype FormDataType= {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n\r\n}\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n}\r\ntype MapDispatchPropsType = {\r\n    login: (email:string, password:string, rememberMe:boolean) => void\r\n}\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Input} placeholder={'Email'} name=\"email\"\r\n                validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={'Password'} component={Input} name=\"password\" type={'Password'}\r\n                       validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field type={'checkbox'} component={Input} name=\"rememberMe\"/>remember me\r\n            </div>\r\n            {props.error && <div className={style.formSummaryError}>{props.error}</div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\nconst Login= (props:MapStatePropsType & MapDispatchPropsType) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n    if(props.isAuth){\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\nconst mapStateToProps = (state:AppStoreType): MapStatePropsType => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps,{login})(Login)\r\n","import React, {ComponentType} from 'react';\nimport './App.css';\nimport Navbar from \"./Components/Navbar/Navbar\";\nimport {Route} from 'react-router-dom';\nimport News from \"./Components/News/News\";\nimport Music from \"./Components/Music/Music\";\nimport Settings from \"./Components/Settings/Settings\";\nimport DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\nimport UsersContainer from \"./Components/Users/UsersContainer\";\nimport ProfileContainer from \"./Components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./Components/Header/headerContainer\";\nimport LoginPage from \"./Components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {withRouter} from \"react-router\";\nimport {compose} from \"redux\";\nimport {AppStoreType} from \"./redux/redux-store\";\nimport Preloader from \"./Components/common/Preloader/Preloader\";\nimport {initializeApp} from \"./redux/app-reducer\";\n\ntype AppPropsType = {\n    initializeApp: () => void\n    initialized: boolean\n}\nclass App extends React.Component <AppPropsType> {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n\n                    <Route path='/dialogs' render={() => <DialogsContainer/>}/>\n                    <Route path='/profile/:userId?'\n                           render={() => <ProfileContainer/>}/>\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/news' render={() => <News/>}/>\n                    <Route path='/music' render={() => <Music/>}/>\n                    <Route path='/settings' render={() => <Settings/>}/>\n                    <Route path='/login' render={() => <LoginPage/>}/>\n\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: AppStoreType) => ({\n    initialized: state.app.initialized\n})\nexport default compose<ComponentType>(withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);\n","import './index.css';\nimport store from \"./redux/redux-store\";\nimport ReactDOM from \"react-dom\";\nimport {HashRouter} from \"react-router-dom\";\nimport App from \"./App\";\nimport React from \"react\";\nimport {Provider} from \"react-redux\";\n\n    ReactDOM.render(\n        <HashRouter>\n            <Provider store = {store}>\n                <App />\n            </Provider>\n        </HashRouter> ,\n        document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__gSNWk\",\"error\":\"FormsControls_error__3eYEl\",\"formSummaryError\":\"FormsControls_formSummaryError__1SDVO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2krnJ\",\"selectedPage\":\"users_selectedPage__2Ccxh\",\"unselectedPage\":\"users_unselectedPage__3I-L-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__DKnWn\",\"posts\":\"MyPosts_posts__CU8Vc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__2nTYT\",\"loginBlock\":\"header_loginBlock__3sDK8\"};"],"sourceRoot":""}