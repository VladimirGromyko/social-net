{"version":3,"sources":["assets/images/user.png","redux/dialogs-reducer.ts","api/api.ts","Components/Users/users.module.css","Components/Navbar/Navbar.module.css","Components/Navbar/Navbar.tsx","Components/News/News.tsx","Components/Music/Music.tsx","Components/Settings/Settings.tsx","utils/object-helpers.ts","redux/users-reducer.ts","Components/common/Paginator/Paginator.tsx","Components/Users/User.tsx","Components/Users/Users.tsx","redux/users-selectors.ts","Components/Users/UsersContainer.tsx","Components/Header/header.tsx","redux/auth-reducer.ts","Components/Header/headerContainer.tsx","Components/Login/Login.tsx","redux/sidebar-reducer.ts","redux/app-reducer.ts","redux/redux-store.ts","hoc/withSuspense.tsx","App.tsx","index.tsx","Components/common/FormsControls/FormsControls.tsx","assets/images/1495 (1).gif","Components/common/Preloader/Preloader.tsx","Components/common/FormsControls/FormsControls.module.css","Components/common/Paginator/Paginator.module.css","utils/validators/validators.ts","Components/Header/header.module.css","redux/profile-reducer.ts"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageAC","newMessageBody","type","dialogsReducer","state","action","body","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","logout","module","exports","Navbar","className","s","nav","item","to","activeClassName","activeLink","active","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","isFetchingForFollowing","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","paginatorSpan","selectedPage","onPageChanged","cn","styles","pageNumber","onClick","Paginator","totalItemsCount","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","useEffect","paginator","p","User","user","src","photos","small","userPhoto","disabled","some","Users","props","undefined","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","header","alt","loginBlock","isAuth","SET_USER_DATA","setAuthUsersData","payload","getAuthUsersData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","creatField","required","Input","style","formSummaryError","length","stopSubmit","_error","sidebarReducer","INITIALIZED_SUCCESS","initialized","appReducer","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","SocialNetAPP","ReactDOM","document","getElementById","FormControl","meta","touched","children","hasError","formControl","Textarea","input","restProps","placeholder","validators","component","text","validate","backgroundColor","preloader","value","maxLengthCreator","maxLength","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","posts","likesCount","addPostAC","newPostText","setStatus","getUserProfile","file","getState","Error","reject","newPost","postId"],"mappings":"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","file":"static/js/main.32d8d43a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.de73c074.png\";","import {ActionsTypes, DialogsPageType} from \"./store\";\n\n// type UpdateNewMessageBodyType = {\n//     type: \"UPDATE-NEW-MESSAGE-BODY\",\n//     body: string\n// }\ntype SendMessageType = {\n    type: \"SEND-MESSAGE\"\n    newMessageBody: string\n}\n\n// const UPDATE_NEW_MESSAGE_BODY = \"UPDATE-NEW-MESSAGE-BODY\"\nconst SEND_MESSAGE = \"SEND-MESSAGE\"\n\nlet initialState = {\n    dialogs: [\n        {id: \"1\", name: \"Vova\"},\n        {id: \"2\", name: \"July\"},\n        {id: \"3\", name: \"Sasha\"},\n        {id: \"4\", name: \"Pasha\"}\n    ],\n    messages: [\n        {id: \"1\", message: \"Hi\"},\n        {id: \"2\", message: \"How are you?\"},\n        {id: \"3\", message: \"Yo\"},\n    ]\n}\nconst dialogsReducer = (state: DialogsPageType = initialState, action: ActionsTypes) => {\n\n    switch (action.type) {\n        // case UPDATE_NEW_MESSAGE_BODY: {\n        //     return {\n        //         ...state,\n        //         newMessageBody: action.body\n        //     }\n        // }\n        case SEND_MESSAGE: {\n            let body: string = action.newMessageBody\n            return {\n                ...state,\n                messages: [...state.messages, {id: \"4\", message: body}]\n            }\n        }\n        default:\n            return state\n    }\n}\n\nexport const sendMessageAC = (newMessageBody: string): SendMessageType => ({type: SEND_MESSAGE, newMessageBody})\n// export const updateNewMessageBodyAC = (body: string): UpdateNewMessageBodyType =>\n//     ({type: UPDATE_NEW_MESSAGE_BODY, body: body})\nexport default dialogsReducer","import axios from \"axios\";\nimport {UsersObjectType} from \"../Components/Users/UsersContainer\";\nimport {PhotosType, ProfileType} from \"../redux/store\";\n\ntype getUsersResponseType = {\n    items: Array<UsersObjectType>,\n    totalCount: number,\n    error: string | null\n}\nexport type StatusType = {\n    status: string\n}\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {'API-KEY': '08f8988c-36d5-478a-8bca-6bc3626a17f4'}\n})\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 30) {\n        return instance.get<getUsersResponseType>(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => {\n                return response.data\n            })\n    },\n    follow(userId: number) {\n        return instance.post(`follow/${userId}`)\n    },\n    unfollow(userId: number) {\n        return instance.delete(`follow/${userId}`)\n    },\n    getProfile(userId: string | null) {\n        console.warn(\"Obsolete method. Please use profileAPI object\")\n        return profileAPI.getProfile(userId)\n    }\n}\nexport const profileAPI = {\n\n    getProfile(userId: string | null) {\n        return instance.get(`profile/` + userId)\n    },\n    getStatus(userId: string | null) {\n        return instance.get(`profile/status/` + userId)\n    },\n    updateStatus(status: string) {\n        return instance.put(`profile/status/`, {status: status})\n    },\n    savePhoto(photoFile:any) {\n        const formData = new FormData()\n        formData.append('image', photoFile)\n        return instance.put(`profile/photo/`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n    },\n    saveProfile(profile:ProfileType) {\n        return instance.put(`profile`, profile)\n    }\n\n}\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`)\n    },\n    login(email: string, password: string, rememberMe: boolean = false) {\n        return instance.post(`auth/login`, {email, password, rememberMe})\n    },\n    logout() {\n        return instance.delete(`auth/login`)\n    }\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2krnJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1fB6F\",\"item\":\"Navbar_item__Djm--\",\"activeLink\":\"Navbar_activeLink__2QY_b\"};","import React from 'react';\nimport s from './Navbar.module.css'\nimport {NavLink} from 'react-router-dom'\n\nconst Navbar = () => {\n    return (\n        <nav className={s.nav}>\n            <div className={s.item}>\n                {/* eslint-disable-next-line react/jsx-no-undef */}\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\n            </div>\n            <div className={`${s.item} ${s.active}`}>\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\n            </div>\n        </nav>\n    )\n}\nexport default Navbar;","import React from \"react\";\nimport s from './News.module.css'\n\nconst News = () => {\n    return (\n        <div>\n            News\n        </div>\n    )\n}\nexport default News","import React from \"react\";\nimport s from './Music.module.css'\n\nconst Music = () => {\n    return (\n        <div>\n            Music\n        </div>\n    )\n}\nexport default Music","import React from \"react\";\nimport s from './Settings.module.css'\n\nconst Settings = () => {\n    return (\n        <div>\n            Settings\n        </div>\n    )\n}\nexport default Settings","import {ObjPropKeyType, ObjPropNameType, ObjPropValueType, UsersObjectType} from \"../Components/Users/UsersContainer\";\n\n\nexport const updateObjectInArray = (items: Array<UsersObjectType>,\n                                    itemId: ObjPropValueType, objPropName: ObjPropKeyType,\n                                    newObjProps: ObjPropNameType): Array<UsersObjectType> => {\n    return items.map((u) => {\n        if (u[objPropName] === itemId) {\n            return {...u, ...newObjProps}\n        }\n        return u\n    })\n}","import {ActionsTypes} from \"./store\";\nimport {UsersObjectType} from \"../Components/Users/UsersContainer\";\nimport {usersAPI} from \"../api/api\";\nimport {Dispatch} from \"redux\";\nimport {AxiosResponse} from \"axios\";\nimport {updateObjectInArray} from \"../utils/object-helpers\";\n\ntype FollowType = {\n    type: \"FOLLOW\",\n    userId: number\n}\ntype UnfollowType = {\n    type: \"UNFOLLOW\",\n    userId: number\n}\ntype FollowUnfollowType = FollowType | UnfollowType\n\ntype SetUsersType = {\n    type: \"SET_USERS\",\n    users: Array<UsersObjectType>\n}\ntype SetCurrentPageType = {\n    type: \"SET_CURRENT_PAGE\",\n    currentPage: number\n}\ntype SetTotalUsersCountType = {\n    type: \"SET_TOTAL_USERS_COUNT\",\n    count: number\n}\ntype ToggleIsFetchingType = {\n    type: \"TOGGLE_IS_FETCHING\",\n    isFetching: boolean\n}\ntype ToggleIsFollowingInProgressType = {\n    type: \"TOGGLE_IS_FOLLOWING_PROGRESS\",\n    isFetchingForFollowing: boolean,\n    userId: number\n}\nexport type UsersType = {\n    users: Array<UsersObjectType>,\n    pageSize: number,\n    totalUsersCount: number,\n    currentPage: number,\n    isFetching: boolean,\n    followingInProgress: Array<number>\n}\n\nconst FOLLOW = \"FOLLOW\"\nconst UNFOLLOW = \"UNFOLLOW\"\nconst SET_USERS = \"SET_USERS\"\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\"\n\nlet initialState : UsersType = {\n    users: [\n        // {\n        //     id: 1, photoUrl: \"https://www.vokrug.tv/pic/person/6/e/0/2/6e02e4d5202366442710552912e7a10f.jpg\",\n        //     followed: false, fullName: \"Vladimir\", status: 'I am subscribed to life',\n        //     location: {city: 'Minsk', country: 'Belarus'}\n        // },\n        // {\n        //     id: 2, photoUrl: \"https://avatars.mds.yandex.net/get-kinopoisk-image/1777765/43ad37ff-34c4-4ebc-9f0a-2f2eaa41a18d/280x420\",\n        //     followed: true, fullName: \"Donald\", status: 'I am my own director',\n        //     location: {city: 'New York', country: 'USA'}\n        // },\n        // {\n        //     id: 3, photoUrl: \"https://upload.wikimedia.org/wikipedia/commons/8/88/Dmitry_Nagiev_2017_4.jpg?uselang=ru\",\n        //     followed: false, fullName: \"Dmitriy\", status: 'My ship is on the waves',\n        //     location: {city: 'Moscow', country: 'Russia'}\n        // },\n    ],\n    pageSize: 10,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: true,\n    followingInProgress: []\n}\n\nconst usersReducer = (state= initialState, action: ActionsTypes):UsersType => {\n\n    switch (action.type) {\n        case FOLLOW: {\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\n                // users: state.users.map(u => {\n                //     if (u.id === action.userId) {\n                //         return {...u, followed: true}\n                //     }\n                //     return u\n                // })\n            }\n        }\n        case UNFOLLOW: {\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\n                /*users: state.users.map(u => {\n                    if (u.id === action.userId) {\n                        return {...u, followed: false}\n                    }\n                    return u\n                })*/\n            }\n        }\n        case SET_USERS: {\n            return {...state, users: action.users}\n            //return { ...state, users: [...state.users, ...action.users]}\n        }\n        case SET_CURRENT_PAGE: {\n            return {...state, currentPage: action.currentPage}\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return {...state, totalUsersCount: action.count}\n        }\n        case TOGGLE_IS_FETCHING: {\n            return {...state, isFetching: action.isFetching}\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state,\n                followingInProgress:\n                    action.isFetchingForFollowing\n                        ? [...state.followingInProgress, action.userId]\n                        : state.followingInProgress.filter(id => id !== action.userId),\n                //userId: action.userId\n            }\n        }\n\n        default:\n            return state\n    }\n}\nexport const followSuccess = (userId: number): FollowType => ({type: FOLLOW, userId})\nexport const unfollowSuccess = (userId: number): UnfollowType => ({type: UNFOLLOW, userId})\nexport const setUsers = (users: Array<UsersObjectType>): SetUsersType => ({type: SET_USERS, users: users})\nexport const setCurrentPage = (currentPage: number): SetCurrentPageType => ({type: SET_CURRENT_PAGE, currentPage})\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalUsersCountType => ({\n    type: SET_TOTAL_USERS_COUNT,\n    count: totalUsersCount\n})\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingType => ({type: TOGGLE_IS_FETCHING, isFetching})\nexport const toggleFollowingProgress = (isFetchingForFollowing: boolean, userId: number): ToggleIsFollowingInProgressType => ({\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    isFetchingForFollowing,\n    userId\n})\ntype DispatchType = Dispatch<ActionsTypes>\nexport const requestUsers = (page: number, pageSize: number) => {\n    return async (dispatch: DispatchType) => {\n        dispatch(toggleIsFetching(true))\n        dispatch(setCurrentPage(page))\n        const data = await usersAPI.getUsers(page, pageSize)\n        dispatch(toggleIsFetching(false))\n        dispatch(setUsers(data.items))\n        dispatch(setTotalUsersCount(data.totalCount))\n\n    }\n}\nconst followUnfollowFlow = async (dispatch: DispatchType, userId: number,\n                                  apiMethod: (userId: number) => Promise<AxiosResponse<any>>,\n                                  actionCreator: (userId: number) => FollowUnfollowType) => {\n\n    dispatch(toggleFollowingProgress(true, userId))\n    let response = await apiMethod(userId)\n    if (response.data.resultCode === 0) {\n        dispatch(actionCreator(userId))\n    }\n    dispatch(toggleFollowingProgress(false, userId))\n}\nexport const follow = (userId: number) => {\n    return async (dispatch: DispatchType) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\n    }\n}\nexport const unfollow = (userId: number) => {\n    return async (dispatch: DispatchType) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\n    }\n}\n// video 90 time 22.50\nexport default usersReducer","import React, {useEffect, useState} from \"react\";\nimport styles from \"./Paginator.module.css\";\nimport cn from \"classnames\"\n\nexport type PaginatorPropsType = {\n    totalItemsCount: number,\n    pageSize: number,\n    currentPage?: number,\n    onPageChanged: (pageNumber: number) => void | undefined\n    portionSize?: number\n}\n\nlet paginatorSpan = (currentPage: number, selectedPage: number, onPageChanged: (page: number) => void) => {\n    return <span className={cn({[styles.selectedPage]: currentPage === selectedPage}, styles.pageNumber)}\n                 key={selectedPage}\n                 onClick={() => {\n                     onPageChanged(selectedPage)\n                 }}> {selectedPage}</span>\n}\n\nlet Paginator = ({totalItemsCount, pageSize, currentPage = 1, onPageChanged, portionSize = 20}: PaginatorPropsType) => {\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\n    let pages = []\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n    let portionCount = Math.ceil(pagesCount / portionSize)\n    let [portionNumber, setPortionNumber] = useState(1)\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\n    let rightPortionPageNumber = portionNumber * portionSize\n    useEffect(() => setPortionNumber(Math.ceil(currentPage / portionSize)), [currentPage])\n\n    return <div className={styles.paginator}>\n        {paginatorSpan(currentPage, 1, onPageChanged)}\n        {'...'}\n        {portionNumber > 1 && <button onClick={() => setPortionNumber(portionNumber - 1)}>{'<'}</button>}\n        {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n            .map(p => paginatorSpan(currentPage, p, onPageChanged))\n        }\n        {portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}>{'>'}</button>}\n        {'...'}\n        {paginatorSpan(currentPage, pagesCount, onPageChanged)}\n    </div>\n\n}\nexport default Paginator","import React from \"react\";\nimport styles from \"./users.module.css\";\nimport userPhoto from \"../../assets/images/user.png\";\nimport {NavLink} from \"react-router-dom\";\nimport {UsersObjectType} from \"./UsersContainer\";\n\n\ntype UserPropsType = {\n    user: UsersObjectType,\n    follow: (userId: number) => void,\n    unfollow: (userId: number) => void\n    followingInProgress: Array<number>\n}\n\nlet User = ({user, follow, unfollow, followingInProgress}: UserPropsType) => {\n\n    return (\n        <div key={user.id}>\n                <span>\n                    <div>\n                        <NavLink to={'/profile/' + user.id}>\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto}\n                             className={styles.userPhoto}/>\n                        </NavLink>\n                    </div>\n                    <div>\n                        {user.followed\n                            ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n                                unfollow(user.id)\n                            }}>Unfollow</button>\n                            : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n                                follow(user.id)\n                            }}>Follow</button>\n                        }\n\n                    </div>\n                </span>\n            <span>\n                    <span>\n                        <div>{user.name}</div>\n                        <div>{user.status}</div>\n                    </span>\n                    <span>\n                        <div>{'user.location.country'}</div>\n                        <div>{'user.location.city'}</div>\n                    </span>\n                </span>\n        </div>\n    )\n}\nexport default User","import React from \"react\";\nimport {UsersObjectType} from \"./UsersContainer\";\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\n\nexport type UsersPropsType = {\n    totalUsersCount: number,\n    pageSize: number,\n    currentPage: number,\n    onPageChanged: (pageNumber: number) => void\n    users: Array<UsersObjectType>,\n    follow: (userId: number) => void,\n    unfollow: (userId: number) => void\n    followingInProgress: Array<number>\n}\n\nlet Users = ({\n                 totalUsersCount, pageSize, currentPage,\n                 onPageChanged, users, ...props\n             }: UsersPropsType) => {\n\n    return <div>\n        <Paginator totalItemsCount={totalUsersCount} pageSize={pageSize}\n                   currentPage={currentPage} onPageChanged={onPageChanged} portionSize={undefined} />\n        <div>\n            {users.map((u) =>\n                <User user={u}\n                      follow={props.follow}\n                      unfollow={props.unfollow}\n                      followingInProgress={props.followingInProgress}\n                      key={u.id}/>\n            )}\n        </div>\n    </div>\n\n}\nexport default Users","import {RootStateType} from \"./store\";\nimport {createSelector} from \"reselect\";\n\nconst getUsersSelectors =(state:RootStateType) => {\n    return state.usersPage.users\n}\nexport const getUsers = createSelector(getUsersSelectors,(users) => {\n    return users.filter(u => true)\n})\n\nexport const getPageSize =(state:RootStateType) => {\n    return state.usersPage.pageSize\n}\nexport const getTotalUsersCount =(state:RootStateType) => {\n    return state.usersPage.totalUsersCount\n}\nexport const getCurrentPage =(state:RootStateType) => {\n    return state.usersPage.currentPage\n}\nexport const getIsFetching =(state:RootStateType) => {\n    return state.usersPage.isFetching\n}\nexport const getFollowingInProgress =(state:RootStateType) => {\n    return state.usersPage.followingInProgress\n}","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {RootStateType} from \"../../redux/store\";\nimport {\n    follow, requestUsers,\n    toggleFollowingProgress,\n    unfollow\n} from \"../../redux/users-reducer\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {\n    getUsers,\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount\n} from \"../../redux/users-selectors\";\n\n\ntype locationType = {\n    city: string,\n    country: string\n}\ntype photosType = {\n    small: string,\n    large: string\n}\nexport type UsersObjectType = {\n    id: number,\n    photos: photosType,\n    // photoUrl: string,\n    followed: boolean,\n    name: string,\n    //fullName: string,\n    status: string,\n    location: locationType\n}\n\nexport type ObjPropKeyType = \"id\" | \"photos\" | \"followed\" | \"name\" | \"status\" | \"location\"\nexport type ObjPropValueType = number | photosType | boolean | string | locationType\nexport type ObjPropNameType = { id: number } | { photos: photosType } |\n    { followed: boolean } | { name: string } | { status: string } | { location: locationType }\n\ntype UsersContainerPropsType = {\n    users: Array<UsersObjectType>,\n    pageSize: number,\n    totalUsersCount: number,\n    currentPage: number,\n    isFetching: boolean,\n    follow: (userId: number) => void,\n    unfollow: (userId: number) => void,\n    toggleFollowingProgress: (isFetchingForFollowing: boolean, userId: number) => void,\n    followingInProgress: Array<number>\n    getUsers: (currentPage: number, pageSize: number) => void\n}\n\nclass UsersContainer extends React.Component<UsersContainerPropsType> {\n    componentDidMount() {\n        const {currentPage, pageSize} = this.props\n        this.props.getUsers(currentPage, pageSize)\n    }\n\n    onPageChanged = (pageNumber: number) => {\n        const {pageSize} = this.props\n        this.props.getUsers(pageNumber, pageSize)\n    }\n\n    render() {\n        let pagesCount = Math.ceil(this.props.totalUsersCount / this.props.pageSize)\n        let pages = []\n        for (let i = 1; i <= pagesCount; i++) {\n            pages.push(i)\n        }\n        return <>\n            {this.props.isFetching ? <Preloader/> : null}\n\n            <Users totalUsersCount={this.props.totalUsersCount}\n                   pageSize={this.props.pageSize}\n                   currentPage={this.props.currentPage}\n                   onPageChanged={this.onPageChanged}\n                   users={this.props.users}\n                   follow={this.props.follow}\n                   unfollow={this.props.unfollow}\n                   followingInProgress={this.props.followingInProgress}\n\n            />\n        </>\n    }\n}\n\nlet mapStateToProps = (state: RootStateType) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\nexport default compose<React.ComponentType>(\n    connect(mapStateToProps, {follow, unfollow, toggleFollowingProgress, getUsers: requestUsers}),\n    //withAuthRedirect\n)(UsersContainer)","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport s from './header.module.css';\nimport {ActionsTypes, SetUserDataActionType} from \"../../redux/store\";\nimport { HeaderContainerPropsType } from './headerContainer';\n\n//type HeaderContainerPropsType = any\n\n//     {\n//     isAuth: boolean\n//     login: null | string\n//     setAuthUsersData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => void\n// }\n\nconst Header = (props: HeaderContainerPropsType) => {\n    return (\n        <header className={s.header}>\n            {/*<img src=\"logo_color.jpg\" alt=\"\"/>*/}\n            <img\n                src=\"data:image/png;base64,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\"\n                alt=\"\"/>\n            <div className={s.loginBlock}>\n                {props.isAuth\n                    ? <div> {props.login} - <button onClick={props.logout}>Log Out</button> </div>\n                    : <NavLink to={'/login'}>Login</NavLink>}\n            </div>\n        </header>\n    )\n}\nexport default Header;","import {ActionsTypes, SetUserDataActionType} from \"./store\";\nimport {authAPI} from \"../api/api\";\nimport {Dispatch} from \"redux\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {AppStoreType, ThunkType} from \"./redux-store\";\nimport {stopSubmit} from \"redux-form\";\nimport {FormAction} from \"redux-form/lib/actions\";\n\n\nexport type UserDataType = {\n    userId: string | null,\n    email: string | null,\n    login: string | null,\n    isAuth: boolean\n    //isFetching: boolean\n}\n\n\n\n\nconst SET_USER_DATA = \"auth/SET_USER_DATA\"\n\nlet initialState: UserDataType = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false\n    //isFetching: false\n}\n\nconst authReducer = (state: UserDataType = initialState, action: ActionsTypes): UserDataType => {\n    switch (action.type) {\n        case SET_USER_DATA: {\n            return {\n                ...state,\n                ...action.payload,\n                // isAuth: true\n            }\n        }\n\n        // case TOGGLE_IS_FETCHING: {\n        //     return { ...state, isFetching: action.isFetching}\n        // }\n        default:\n            return state\n    }\n}\n\n//export const setUsersData = (userId: number | null, email: string | null, login: string | null, isFetching: boolean): SetUserDataActionType => (\nexport const setAuthUsersData = (userId: string | null, email: string | null, login: string | null, isAuth: boolean):\n    SetUserDataActionType => ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}})  //, isFetching\n//export const setAuthUsersData = (data:UserDataType):\n//SetUserDataActionType => ({type: SET_USER_DATA, data})  //, isFetching\n//export const toggleIsFetching = (isFetching:boolean): ToggleIsFetchingType => ({type: TOGGLE_IS_FETCHING, isFetching})\nexport const getAuthUsersData = (): ThunkType => async (dispatch) => {\n    const response = await authAPI.me()\n    if (response.data.resultCode === 0) {\n        let {id, email, login} = response.data.data\n        dispatch(setAuthUsersData(id, email, login, true))\n    }\n}\n\nexport const login = (email: string, password: string, rememberMe: boolean): ThunkType =>\n    async (dispatch) => {\n        const response = await authAPI.login(email, password, rememberMe)\n        if (response.data.resultCode === 0) {\n            dispatch(getAuthUsersData())\n        } else {\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\n            dispatch(stopSubmit('login', {_error: message}))\n        }\n    };\n\nexport const logout = (): ThunkType =>\n    async (dispatch) => {\n    let response = await authAPI.logout()\n            if (response.data.resultCode === 0) {\n                dispatch(setAuthUsersData(null, null, null, false))\n            }\n}\n\nexport default authReducer\n","import React from 'react';\nimport Header from \"./header\";\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../redux/auth-reducer\";\nimport {AppStoreType} from \"../../redux/redux-store\";\n\n\n\ntype MapStatePropsType = {\n    login: string | null\n    isAuth: boolean,\n}\n\nexport type HeaderContainerPropsType = {\n    login: string | null\n    logout: () => void\n    isAuth: boolean,\n    //setAuthUsersData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => void\n    //getAuthUsersData: () => void\n}\n\nclass HeaderContainer extends React.Component<HeaderContainerPropsType> {\n    // componentDidMount() {\n    //     this.props.getAuthUsersData()\n        // authAPI.me()\n        // // axios.get(`https://social-network.samuraijs.com/api/1.0/auth/me`,\n        // //     {withCredentials: true})\n        //     .then(response => {\n        //         if (response.data.resultCode === 0) {\n        //             let {id, email, login} = response.data.data\n        //             this.props.setAuthUsersData(id, email, login, true)\n        //         }\n        //     })\n    // }\n\n    render() {\n        return (\n            <Header {...this.props} />)\n    }\n}\n\nconst mapStateToProps = (state: AppStoreType): MapStatePropsType => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login\n})\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\nimport {creatField, Input} from \"../common/FormsControls/FormsControls\";\nimport {required} from \"../../utils/validators/validators\";\nimport {connect} from \"react-redux\";\nimport {login, UserDataType} from \"../../redux/auth-reducer\";\nimport {Redirect} from \"react-router-dom\";\nimport {AppStoreType} from \"../../redux/redux-store\";\nimport style from './../common/FormsControls/FormsControls.module.css'\n\ntype FormDataType = {\n    email: string\n    password: string\n    rememberMe: boolean\n\n}\ntype MapStatePropsType = {\n    isAuth: boolean\n}\ntype MapDispatchPropsType = {\n    login: (email: string, password: string, rememberMe: boolean) => void\n}\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit, error}) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            {creatField('Email', 'email', [required], Input)}\n            {creatField('Password', 'password', [required], Input, {type: 'Password'})}\n            {creatField(null, 'rememberMe', [], Input, {type: 'checkbox'}, 'remember me')}\n\n            {error && <div className={style.formSummaryError}>{error}</div>}\n            <div>\n                <button>Login</button>\n            </div>\n        </form>\n    )\n}\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\n\nconst Login = (props: MapStatePropsType & MapDispatchPropsType) => {\n    const onSubmit = (formData: FormDataType) => {\n        props.login(formData.email, formData.password, formData.rememberMe)\n    }\n    if (props.isAuth) {\n        return <Redirect to={'/profile'}/>\n    }\n    return <div>\n        <h1>LOGIN</h1>\n        <LoginReduxForm onSubmit={onSubmit}/>\n    </div>\n}\nconst mapStateToProps = (state: AppStoreType): MapStatePropsType => ({\n    isAuth: state.auth.isAuth\n})\nexport default connect(mapStateToProps, {login})(Login)\n","import {ActionsTypes, SidebarType} from \"./store\";\n\nlet initialState = {}\n\nexport const sidebarReducer = (state: SidebarType = initialState, action: ActionsTypes) => {\n\n    return state\n}\nexport default sidebarReducer","import {ActionsTypes, InitializedSuccessActionType} from \"./store\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {AppStoreType} from \"./redux-store\";\nimport {FormAction} from \"redux-form/lib/actions\";\nimport {getAuthUsersData} from \"./auth-reducer\";\n\ntype AppDataType = {\n    initialized: boolean\n}\ntype ThunkType = ThunkAction<void, AppStoreType, unknown, ActionsTypes | FormAction>\n\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\"\n\nlet initialState: AppDataType = {\n    initialized: false\n}\n\nconst appReducer = (state: AppDataType = initialState, action: ActionsTypes): AppDataType => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS: {\n            return {\n                ...state,\n                initialized: true,\n            }\n        }\n        default:\n            return state\n    }\n}\n\nexport const initializedSuccess = ():\n    InitializedSuccessActionType => ({type: INITIALIZED_SUCCESS})\n\nexport const initializeApp = (): ThunkType => (dispatch) => {\n    let promise= dispatch(getAuthUsersData())\n    Promise.all([promise]).then(() =>{\n        dispatch(initializedSuccess())\n    })\n}\n\nexport default appReducer\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer, {UserDataType} from \"./auth-reducer\";\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\"\nimport reducer, { reducer as formReducer } from 'redux-form'\nimport appReducer from \"./app-reducer\";\nimport {ActionsTypes} from \"./store\";\nimport {FormAction} from \"redux-form/lib/actions\";\n\n\n\nlet rootReducer = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n})\n\ntype RootReducersType = typeof rootReducer\nexport type AppStoreType = ReturnType<RootReducersType>\n\nexport type ThunkType = ThunkAction<void, AppStoreType, unknown, ActionsTypes | FormAction>\n\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)\n));\n// let store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\n\n// @ts-ignore\nwindow.__store__ = store\n\nexport default store","import React, {ComponentType, Suspense} from 'react'\nimport Preloader from \"../Components/common/Preloader/Preloader\";\n\n\nexport function withSuspense <T>(Component: ComponentType<T>)  {\n\n    return (props:any) => {\n        return <Suspense fallback={<Preloader/>}>\n            <Component {...props}/>\n        </Suspense>\n    }\n}\n\n","import React, {ComponentType, lazy, Suspense} from 'react';\nimport './App.css';\nimport Navbar from \"./Components/Navbar/Navbar\";\nimport {HashRouter, Route} from 'react-router-dom';\nimport News from \"./Components/News/News\";\nimport Music from \"./Components/Music/Music\";\nimport Settings from \"./Components/Settings/Settings\";\n\nimport UsersContainer from \"./Components/Users/UsersContainer\";\nimport HeaderContainer from \"./Components/Header/headerContainer\";\nimport LoginPage from \"./Components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {withRouter} from \"react-router\";\nimport {compose} from \"redux\";\nimport store, {AppStoreType} from \"./redux/redux-store\";\nimport Preloader from \"./Components/common/Preloader/Preloader\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\n\nconst DialogsContainer = lazy(() => import('./Components/Dialogs/DialogsContainer'));\nconst ProfileContainer = lazy(() => import('./Components/Profile/ProfileContainer'));\n\ntype AppPropsType = {\n    initializeApp: () => void\n    initialized: boolean\n}\n\nclass App extends React.Component <AppPropsType> {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/news' render={() => <News/>}/>\n                    <Route path='/music' render={() => <Music/>}/>\n                    <Route path='/settings' render={() => <Settings/>}/>\n                    <Route path='/login' render={() => <LoginPage/>}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: AppStoreType) => ({\n    initialized: state.app.initialized\n})\nlet AppContainer = compose<ComponentType>(withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);\n\nconst SocialNetAPP = () => {\n    return (<HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>)\n}\nexport default SocialNetAPP","import './index.css';\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport SocialNetAPP from \"./App\";\n\nReactDOM.render(<SocialNetAPP/>, document.getElementById('root'));\n","import React from \"react\";\nimport style from './FormsControls.module.css'\nimport {WrappedFieldMetaProps, WrappedFieldProps} from \"redux-form/lib/Field\";\nimport {Field} from \"redux-form\";\nimport {FieldValidatorType, required} from \"../../../utils/validators/validators\";\n\ntype FormsControlsPropsType = {\n    meta: WrappedFieldMetaProps\n}\nexport const FormControl:\n    React.FC<FormsControlsPropsType> = (\n    {\n        meta: {touched, error},\n        children\n    }) => {\n    const hasError = touched && error\n    return (\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\n            <div>\n                {children}\n                {/*                <textarea {...input} {...props}/>*/}\n            </div>\n            {hasError && <span>{error}</span>}\n\n        </div>\n    )\n}\n\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\n    const {input, meta, ...restProps} = props\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\n}\n\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\n    const {input, meta, ...restProps} = props\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\n}\n// type CreatFieldPropsType = {\n//     placeholder: 'Email' | 'Password' | null\n//     name: string\n//     validators: Array<FieldValidatorType>\n//     component: React.FC<WrappedFieldProps>\n//     props: {\n//         type: 'Password' | 'checkbox'\n//     }\n//     text: string\n// }\ntype CreatFieldRestPropsType = {\n        type: 'Password' | 'checkbox'| ''\n}\n\nexport const creatField = (placeholder: string | null,\n                           name: string,\n                           validators: Array<FieldValidatorType>,\n                           component: React.FC<WrappedFieldProps>,\n                           props:CreatFieldRestPropsType={type:''},\n                           text: string = '') => (\n     <div>\n        <Field placeholder={placeholder} name={name}\n               validate={validators} component={component}\n               {...props}/>{text}\n    </div>\n)\n\n","export default __webpack_public_path__ + \"static/media/1495 (1).5afb2e9e.gif\";","import preloader from \"../../../assets/images/1495 (1).gif\";\n\nlet Preloader = () => {\n    return <div style={{backgroundColor: 'white'}}>\n        <img src={preloader}/>\n    </div>\n}\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__gSNWk\",\"error\":\"FormsControls_error__3eYEl\",\"formSummaryError\":\"FormsControls_formSummaryError__1SDVO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1EbGO\",\"pageNumber\":\"Paginator_pageNumber__zICHr\",\"selectedPage\":\"Paginator_selectedPage__bLouY\"};","export type FieldValidatorType = (value: string) => string | undefined\n\nexport const required:FieldValidatorType = (value) => {\n    if (value) return undefined\n    return 'Field is required'\n}\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (value) => {\n    if (value.length>maxLength) return `Max length is ${maxLength} symbols`\n    return undefined\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__2nTYT\",\"loginBlock\":\"header_loginBlock__3sDK8\"};","import {ActionsTypes, ProfileType, SetStatusActionType} from \"./store\";\nimport {Dispatch} from \"redux\";\nimport {profileAPI, usersAPI} from \"../api/api\";\nimport {ThunkType} from \"./redux-store\";\nimport {stopSubmit} from \"redux-form\";\n\n\ntype AddPostActionType = {\n    type: \"ADD-POST\"\n    newPostText: string\n}\ntype DeletePostActionType = {\n    type: \"DELETE_POST\"\n    postId: number\n}\ntype UpdateNewPostTextActionType = {\n    type: \"UPDATE-NEW-POST-TEXT\",\n    newText: string\n}\ntype SetUserProfileActionType = {\n    type: \"SET-USER-PROFILE\",\n    profile: ProfileType\n}\ntype postsType = {\n    id: number,\n    message: string,\n    likesCount: number\n}\ntype SavePhotoActionType = {\n    type: \"SAVE_PHOTO_SUCCESS\"\n    photos: File\n}\n\nexport type ProfilePageType = {\n    posts: Array<postsType>\n//    newPostText: string\n    profile: ProfileType\n    status: string\n}\ntype DispatchType = Dispatch<ActionsTypes>\n\n// export type SetStatusActionType = {\n//     type: \"SET_STATUS\",\n//     status: string\n// }\n\nconst ADD_POST = \"ADD-POST\"\nconst DELETE_POST = \"DELETE_POST\"\n//const UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\"\nconst SET_USER_PROFILE = \"SET-USER-PROFILE\"\nconst SET_STATUS = \"SET_STATUS\"\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\"\n\n\nlet initialState: ProfilePageType = {\n    posts: [\n        {id: 1, message: \"Hi, how are you?\", likesCount: 2},\n        {id: 2, message: \"Hi, what are you doing?\", likesCount: 5},\n        {id: 3, message: \"It's my first post.\", likesCount: 4},\n    ],\n    profile: {\n        \"aboutMe\": \"\",\n        \"contacts\": {\n            \"facebook\": \"\",\n            \"website\": \"\",\n            \"vk\": \"\",\n            \"twitter\": \"\",\n            \"instagram\": \"\",\n            \"youtube\": \"\",\n            \"github\": \"\",\n            \"mainLink\": \"\"\n        },\n        \"lookingForAJob\": false,\n        \"lookingForAJobDescription\": \"\",\n        \"fullName\": \"\",\n        \"userId\": \"2\",\n        \"photos\": {\n            \"small\": \"\",\n            \"large\": \"\"\n        }\n    },\n    status: \"\"\n}\n\nconst profileReducer = (state: ProfilePageType = initialState, action: ActionsTypes) => {\n    switch (action.type) {\n        case ADD_POST: {\n            const newPost: postsType = {\n                id: 4,\n                message: action.newPostText,\n                likesCount: 0\n            }\n            return {\n                ...state,\n                posts: [...state.posts, newPost],\n            }\n        }\n        case SET_STATUS: {\n            return {\n                ...state,\n                status: action.status\n            }\n        }\n        case SET_USER_PROFILE: {\n            return {\n                ...state, profile: action.profile\n            }\n        }\n        case DELETE_POST:\n            return {...state, posts: state.posts.filter(p => p.id !== action.postId)}\n\n        case SAVE_PHOTO_SUCCESS:\n            return {...state, profile: {...state.profile, photos: action.photos}}\n\n        default:\n            return state\n\n    }\n}\nexport const addPostAC = (newPostText: string): AddPostActionType => ({type: ADD_POST, newPostText})\nconst setUserProfile = (profile: ProfileType): SetUserProfileActionType => ({type: SET_USER_PROFILE, profile})\nconst setStatus = (status: string): SetStatusActionType => ({type: SET_STATUS, status})\nexport const deletePostAC = (postId: number): DeletePostActionType => ({type: DELETE_POST, postId})\nexport const savePhotoSuccess = (photos: File): SavePhotoActionType => ({type: SAVE_PHOTO_SUCCESS, photos})\n\nexport const getUserProfile = (userId: string | null) => async (dispatch: DispatchType) => {\n    const response = await usersAPI.getProfile(userId)\n    dispatch(setUserProfile(response.data))\n}\nexport const getStatus = (userId: string) => async (dispatch: DispatchType) => {\n    const response = await profileAPI.getStatus(userId)\n    dispatch(setStatus(response.data))\n}\nexport const updateStatus = (status: string) => async (dispatch: DispatchType) => {\n    const response = await profileAPI.updateStatus(status)\n    if (response.data.resultCode === 0) {\n        dispatch(setStatus(status))\n    }\n}\nexport const savePhoto = (file: File) => async (dispatch: DispatchType) => {\n    const response = await profileAPI.savePhoto(file)\n    if (response.data.resultCode === 0) {\n        dispatch(savePhotoSuccess(response.data.data.photos))\n    }\n}\nexport const saveProfile = (profile: ProfileType): ThunkType =>\n    async (dispatch, getState) => {\n\n        const userId = getState().auth.userId\n        const response = await profileAPI.saveProfile(profile)\n        if (response.data.resultCode === 0) {\n            if(userId!==null) {\n                dispatch(getUserProfile(userId))\n            } else {\n                throw new Error(\"userId can't be null\")\n            }\n        } else {\n            dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))\n            return Promise.reject(response.data.messages[0])\n        }\n    }\nexport default profileReducer"],"sourceRoot":""}